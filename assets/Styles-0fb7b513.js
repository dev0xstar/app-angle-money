import{I as e,f as p}from"./react-ac02b43c.js";import{I as A}from"./index-6c9a656c.js";import{m as F}from"./style-053d0d8d.js";import{Q as R}from"./priceReference-015357d4.js";import{C as l}from"./PageHeader-912a2f98.js";const E="/assets/loader-89404651.svg";function W({children:t,loading:n=!0}){return n?e.jsx("div",{className:"flex h-44 w-full items-center justify-center",children:e.jsx("img",{src:E,className:"w-28",alt:"spinner circles"})}):t}function S({columns:t,className:n,children:d,exclude:a,...r}){var o;const i=Object.keys(t),x={display:"grid",gridTemplateColumns:i.map(s=>{var m;if(!(a!=null&&a.includes(s)))return((m=t==null?void 0:t[s])==null?void 0:m[1])??"1fr"}).join(" ")},c={...r};for(const s of i)(o=Object.keys(c))!=null&&o.includes(`${s}Column`)&&delete c[`${s}Column`];return e.jsxs("div",{style:x,className:[n,"grid-table-row hidden-actions",r.onClick&&"[&_*]:cursor-pointer"].join(" "),...c,children:[i==null?void 0:i.map(s=>{const m=r[`${s}Column`],[g,h,y]=t[s];if(!(a!=null&&a.includes(s)))return e.jsx("div",{className:[y,"inline-flex items-center"].join(" "),children:m},s)}),d&&e.jsx("div",{style:{gridColumn:"1 / -1"},children:d})]})}function _({columns:t,header:n,footer:d,container:a=!0,loading:r,fallback:i,children:x,unsortable:c,defaultSort:o,onSort:s,exclude:m,hideLabels:g,containerClassName:h,className:y,contentClassName:f,look:C="secondary",size:b="m",...$}){const[w,I]=p.useState((o==null?void 0:o[1])??"descending"),[u,L]=p.useState(o==null?void 0:o[0]);function G(N){I(v=>v==="ascending"||N!==u?"descending":"ascending"),L(N)}p.useMemo(()=>{u&&(s==null||s(u,w))},[u,w]);const z=p.useMemo(()=>{const N=Object.keys(t),v={};for(const j of N){const[O,M,B]=t[j],T=!(c!=null&&c.includes(j)),D=O&&T?()=>G(j):void 0;v[`${j}Column`]=e.jsxs("p",{onKeyDown:D,onClick:D,className:[B,"dark:text-black-100 relative items-center gap-1",T&&"dim cursor-pointer select-none"].join(" "),children:[O,e.jsx("span",{className:"arrow-sorting absolute -right-5 -top-[1px]",children:T&&j===u&&(w==="ascending"?e.jsx(A,{size:"s",className:" dark:text-peach-500",mui:"ArrowUpwardOutlined"}):e.jsx(A,{size:"s",className:" dark:text-peach-500",mui:"ArrowDownwardOutlined"}))})]})}return v},[t,u,w]),k=p.Children.count(x)===0;return e.jsx("div",{className:`${a?"container-lg":""} ${!!h&&h} w-full`,children:e.jsx("div",{className:"overflow-x-scroll lg:overflow-x-visible",children:e.jsxs("div",{className:`grid-table ${C} ${b} ${y}`,...$,children:[n&&e.jsx("div",{className:"grid-table-header",children:n}),e.jsxs("div",{className:"grid-table-body",children:[(r||k)&&e.jsxs("div",{className:"w-full min-h-32 h-full justify-center gap-2 flex-wrap text-center items-center flex dark:text-black-200 font-bold",children:[!r&&k&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"-scale-x-100",mui:"Block"})," No results found"]}),!r&&k&&i&&i,r&&e.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.3,ease:"easeIn"},children:e.jsx(W,{})})]}),!k&&!r&&e.jsxs("div",{className:["grid-table-row-wrapper",f].join(" "),children:[!g&&e.jsx(S,{exclude:m,className:"grid-table-labels",columns:t,...z}),x]})]}),d&&e.jsx("div",{className:"grid-table-footer",children:d})]})})})}function q(t){return[a=>e.jsx(_,{columns:t,...a}),a=>e.jsx(S,{columns:t,...a}),Object.keys(t)]}function J(...t){const[n]=t,d=t.length<=2&&!Array.isArray(t[1]),[a,r]=d?[t[1],[]]:[t[2],t[1]],i=Object.assign({age:"",mode:"continuous"},a),{data:x,subscribe:c,unsubscribe:o,refetch:s,getLastCallTimestamp:m}=R(),g=p.useMemo(()=>Number.parseInt(i.age.replace(/\D/g,""))*1e3*(i.age.charAt(i.age.length-1)==="m"?60:1),[i.age]);async function h(){return s(n,r,!g)}async function y(f,C=g){const b=m(n,f);if(b===void 0||Date.now()-b>=C)return s(n,f)}return p.useEffect(()=>{if(!g)return;const f=c(n,r,g);return()=>o(n,f)},[n,...r,g]),{data:x[n],refresh:h,fetch:y}}const V=({children:t})=>e.jsx("span",{className:"dots",children:t}),X={xAxis:{axisLine:{show:!1,lineStyle:{color:l["black-200"],width:0}},axisTick:{show:!1},axisLabel:{inside:!1}},yAxis:{axisLine:{show:!1,lineStyle:{color:l["black-200"],width:0}},splitLine:{show:!1}},tooltip:{confine:!0,trigger:"item",borderColor:"transparent",backgroundColor:l["black-300"],textStyle:{color:l["sand-500"],fontWeight:600,fontFamily:"Space Grotesk",fontSize:12},extraCssText:"white-space: normal;",axisPointer:{label:{backgroundColor:l["black-300"],color:l["sand-500"],fontWeight:600,fontFamily:"Space Grotesk"}}},legend:{type:"scroll",itemHeight:8,itemStyle:{borderCap:"round"},textStyle:{color:l["sand-500"],fontWeight:600,fontFamily:"Space Grotesk",fontSize:16},pageIconColor:l["peach-500"],pageButtonItemGap:0,pageButtonGap:15,pageIconSize:16,pageTextStyle:{color:l["sand-500"],fontWeight:600,fontFamily:"Space Grotesk"},animationDurationUpdate:500},grid:{top:5,right:10,left:5,bottom:5,containLabel:!0,tooltip:{axisPointer:{lineStyle:{width:0}}}}};export{E as A,V as D,W as S,X as a,q as c,J as u};
