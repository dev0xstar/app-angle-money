import{H as f,ae as D,af as I,ag as Ct,f as y,I as oe,ah as Gt,a5 as Ft,ai as Xt,aj as Zt,ak as zt}from"./react-ac02b43c.js";import{q as re,f as Jt,D as Te,S as Re,T as Yt,U as Qt}from"./priceReference-015357d4.js";import{bv as _,bw as me,bx as Ot,v as B,by as ae,g as Le,bz as se,aa as er,bA as tr,bB as st,bC as Ae,bD as we,bE as rr,bF as nr,bG as q,bH as Ee,bI as ve,bJ as at,bK as ne,bL as ue,bM as fe,bN as Se,bO as sr,bP as Dt,bQ as je,bR as ar,bS as Ie,bT as or,bU as ze,bV as ir,bW as Je,bX as lt,bY as ot,bZ as lr,b_ as cr,b$ as ct,c0 as ut,j as U,c1 as He,ao as ur,u as it,aS as dr,c2 as dt,N as Ye,a5 as de,af as Qe,c3 as et,c4 as Ce,l as pe,c5 as hr,C as fr,c6 as mr,c7 as pr}from"./index-6c9a656c.js";import{g as gr,F as wr,D as tt}from"./lodash-90a1c433.js";import{a as Me}from"./index-779ddf66.js";const br="networks/5.7.1",ht=new _(br);function yr(t){return t&&typeof t.renetwork=="function"}function ce(t){const e=function(r,n){n==null&&(n={});const s=[];if(r.InfuraProvider&&n.infura!=="-")try{s.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{s.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{s.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&a.indexOf(o.network.name)===-1&&s.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{s.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const a=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&a.indexOf(o.network.name)===-1&&s.push(o)}catch{}if(s.length===0)return null;if(r.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:t==="homestead"&&(a=2),new r.FallbackProvider(s,a)}return s[0]};return e.renetwork=function(r){return ce(r)},e}function Ue(t,e){const r=function(n,s){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Ue(t,n)},r}const ft={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ce("homestead")},mt={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ce("ropsten")},pt={chainId:63,name:"classicMordor",_defaultProvider:Ue("https://www.ethercluster.com/mordor","classicMordor")},Oe={unspecified:{chainId:0,name:"unspecified"},homestead:ft,mainnet:ft,morden:{chainId:2,name:"morden"},ropsten:mt,testnet:mt,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ce("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ce("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ce("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ce("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ue("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:pt,classicTestnet:pt,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ue("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ce("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ce("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function _r(t){if(t==null)return null;if(typeof t=="number"){for(const n in Oe){const s=Oe[n];if(s.chainId===t)return{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress||null,_defaultProvider:s._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Oe[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Oe[t.name];if(!e)return typeof t.chainId!="number"&&ht.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&ht.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(yr(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}var $e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rt={};for(var De=0;De<$e.length;De++){var Ke=$e.charAt(De);if(rt[Ke]!==void 0)throw new TypeError(Ke+" is ambiguous");rt[Ke]=De}function be(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Bt(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=be(e)^n>>5}for(e=be(e),r=0;r<t.length;++r){var s=t.charCodeAt(r);e=be(e)^s&31}return e}function kr(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Bt(t);if(typeof n=="string")throw new Error(n);for(var s=t+"1",a=0;a<e.length;++a){var o=e[a];if(o>>5)throw new Error("Non 5-bit word");n=be(n)^o,s+=$e.charAt(o)}for(a=0;a<6;++a)n=be(n);for(n^=1,a=0;a<6;++a){var l=n>>(5-a)*5&31;s+=$e.charAt(l)}return s}function St(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var s=t.lastIndexOf("1");if(s===-1)return"No separator character for "+t;if(s===0)return"Missing prefix for "+t;var a=t.slice(0,s),o=t.slice(s+1);if(o.length<6)return"Data too short";var l=Bt(a);if(typeof l=="string")return l;for(var i=[],c=0;c<o.length;++c){var p=o.charAt(c),k=rt[p];if(k===void 0)return"Unknown character "+p;l=be(l)^k,!(c+6>=o.length)&&i.push(k)}return l!==1?"Invalid checksum for "+t:{prefix:a,words:i}}function Er(){var t=St.apply(null,arguments);if(typeof t=="object")return t}function vr(t){var e=St.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Ve(t,e,r,n){for(var s=0,a=0,o=(1<<r)-1,l=[],i=0;i<t.length;++i)for(s=s<<e|t[i],a+=e;a>=r;)a-=r,l.push(s>>a&o);if(n)a>0&&l.push(s<<r-a&o);else{if(a>=e)return"Excess padding";if(s<<r-a&o)return"Non-zero padding"}return l}function Ir(t){var e=Ve(t,8,5,!0);if(Array.isArray(e))return e}function Tr(t){var e=Ve(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Nr(t){var e=Ve(t,5,8,!1);if(Array.isArray(e))return e}function Ar(t){var e=Ve(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var xr={decodeUnsafe:Er,decode:vr,encode:kr,toWordsUnsafe:Ir,toWords:Tr,fromWordsUnsafe:Nr,fromWords:Ar};const gt=gr(xr),qe="providers/5.7.2",ye=new _(qe);class g{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),s=this.blockTag.bind(this),a=this.data.bind(this),o=this.hash.bind(this),l=this.hex.bind(this),i=this.number.bind(this),c=this.type.bind(this),p=k=>this.data(k,!0);return e.transaction={hash:o,type:c,accessList:g.allowNull(this.accessList.bind(this),null),blockHash:g.allowNull(o,null),blockNumber:g.allowNull(i,null),transactionIndex:g.allowNull(i,null),confirmations:g.allowNull(i,null),from:r,gasPrice:g.allowNull(n),maxPriorityFeePerGas:g.allowNull(n),maxFeePerGas:g.allowNull(n),gasLimit:n,to:g.allowNull(r,null),value:n,nonce:i,data:a,r:g.allowNull(this.uint256),s:g.allowNull(this.uint256),v:g.allowNull(i),creates:g.allowNull(r,null),raw:g.allowNull(a)},e.transactionRequest={from:g.allowNull(r),nonce:g.allowNull(i),gasLimit:g.allowNull(n),gasPrice:g.allowNull(n),maxPriorityFeePerGas:g.allowNull(n),maxFeePerGas:g.allowNull(n),to:g.allowNull(r),value:g.allowNull(n),data:g.allowNull(p),type:g.allowNull(i),accessList:g.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:i,blockNumber:i,transactionHash:o,address:r,topics:g.arrayOf(o),data:a,logIndex:i,blockHash:o},e.receipt={to:g.allowNull(this.address,null),from:g.allowNull(this.address,null),contractAddress:g.allowNull(r,null),transactionIndex:i,root:g.allowNull(l),gasUsed:n,logsBloom:g.allowNull(a),blockHash:o,transactionHash:o,logs:g.arrayOf(this.receiptLog.bind(this)),blockNumber:i,confirmations:g.allowNull(i,null),cumulativeGasUsed:n,effectiveGasPrice:g.allowNull(n),status:g.allowNull(i),type:c},e.block={hash:g.allowNull(o),parentHash:o,number:i,timestamp:i,nonce:g.allowNull(l),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:g.allowNull(r),extraData:a,transactions:g.allowNull(g.arrayOf(o)),baseFeePerGas:g.allowNull(n)},e.blockWithTransactions=me(e.block),e.blockWithTransactions.transactions=g.allowNull(g.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:g.allowNull(s,void 0),toBlock:g.allowNull(s,void 0),blockHash:g.allowNull(o,void 0),address:g.allowNull(r,void 0),topics:g.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:g.allowNull(i),blockHash:g.allowNull(o),transactionIndex:i,removed:g.allowNull(this.boolean.bind(this)),address:r,data:g.allowFalsish(a,"0x"),topics:g.arrayOf(o),transactionHash:o,logIndex:i},e}accessList(e){return Ot(e||[])}number(e){return e==="0x"?0:B.from(e).toNumber()}type(e){return e==="0x"||e==null?0:B.from(e).toNumber()}bigNumber(e){return B.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ae(e))?e.toLowerCase():ye.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Le(e)}callAddress(e){if(!ae(e,32))return null;const r=Le(se(e,12));return r===er?null:r}contractAddress(e){return tr(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ae(e))return st(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Ae(n)!==32?ye.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=B.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ae(e))throw new Error("invalid uint256");return we(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,s=g.check(r,e);return s._difficulty=n==null?null:B.from(n),s}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return g.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&B.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=g.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ae(n)&&(n=B.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ae(n)&&(n=B.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return rr(e)}receiptLog(e){return g.check(this.formats.receiptLog,e)}receipt(e){const r=g.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=B.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ye.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ye.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ye.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return g.check(this.formats.filter,e)}filterLog(e){return g.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const s in e)try{const a=e[s](r[s]);a!==void 0&&(n[s]=a)}catch(a){throw a.checkKey=s,a.checkValue=r[s],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(s){n.push(e(s))}),n}}}var v=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{c(n.next(p))}catch(k){o(k)}}function i(p){try{c(n.throw(p))}catch(k){o(k)}}function c(p){p.done?a(p.value):s(p.value).then(l,i)}c((n=n.apply(t,e||[])).next())})};const x=new _(qe),Pr=10;function wt(t){return t==null?"null":(Ae(t)!==32&&x.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function bt(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(s=>{r[wt(s)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return wt(e)}).join("&")}function Rr(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ge(t){if(typeof t=="string"){if(t=t.toLowerCase(),Ae(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+bt(t);if(sr.isForkEvent(t))throw x.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+bt(t.topics||[])}throw new Error("invalid event - "+t)}function _e(){return new Date().getTime()}function yt(t){return new Promise(e=>{setTimeout(e,t)})}const Cr=["block","network","pending","poll"];let Or=class{constructor(e,r,n){q(this,"tag",e),q(this,"listener",r),q(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=Rr(e[2]),s={};return n.length>0&&(s.topics=n),r&&r!=="*"&&(s.address=r),s}pollable(){return this.tag.indexOf(":")>=0||Cr.indexOf(this.tag)>=0}};const Dr={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ge(t){return we(B.from(t).toHexString(),32)}function _t(t){return ze.encode(Ie([t,se(lt(lt(t)),0,4)]))}const Wt=new RegExp("^(ipfs)://(.*)$","i"),kt=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Wt,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function We(t,e){try{return Dt(xe(t,e))}catch{}return null}function xe(t,e){if(t==="0x")return null;const r=B.from(se(t,e,e+32)).toNumber(),n=B.from(se(t,r,r+32)).toNumber();return se(t,r+32,r+32+n)}function Fe(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):x.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Et(t){const e=je(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Br(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Lt(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const s=je(t[n]);e[n]=Et(r),e.push(Et(s.length)),e.push(Br(s)),r+=32+Math.ceil(s.length/32)*32}return fe(e)}class vt{constructor(e,r,n,s){q(this,"provider",e),q(this,"name",n),q(this,"address",e.formatter.address(r)),q(this,"_resolvedAddress",s)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>B.from(e).eq(1)).catch(e=>{if(e.code===_.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return v(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:fe([e,Se(this.name),r||"0x"])};let s=!1;(yield this.supportsWildcard())&&(s=!0,n.data=fe(["0x9061b923",Lt([ar(this.name),n.data])]));try{let a=yield this.provider.call(n);return je(a).length%32===4&&x.throwError("resolver threw error",_.errors.CALL_EXCEPTION,{transaction:n,data:a}),s&&(a=xe(a,0)),a}catch(a){if(a.code===_.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return v(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?xe(n,0):null})}_getAddress(e,r){const n=Dr[String(e)];if(n==null&&x.throwError(`unsupported coin type: ${e}`,_.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const s=je(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return _t(Ie([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return _t(Ie([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=s[1];let o=s[0];if(o===0?a!==20&&a!==32&&(o=-1):o=-1,o>=0&&s.length===2+a&&a>=1&&a<=75){const l=gt.toWords(s.slice(2));return l.unshift(o),gt.encode(n.prefix,l)}}return null}getAddress(e){return v(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const s=yield this._fetch("0x3b3b57de");return s==="0x"||s===or?null:this.provider.formatter.callAddress(s)}catch(s){if(s.code===_.errors.CALL_EXCEPTION)return null;throw s}const r=yield this._fetchBytes("0xf1cb7e06",Ge(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&x.throwError("invalid or unsupported coin data",_.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return v(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<kt.length;n++){const s=r.match(kt[n]);if(s==null)continue;const a=s[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Fe(r)};case"erc721":case"erc1155":{const o=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const l=this._resolvedAddress||(yield this.getAddress()),i=(s[2]||"").split("/");if(i.length!==2)return null;const c=yield this.provider.formatter.address(i[0]),p=we(B.from(i[1]).toHexString(),32);if(a==="erc721"){const S=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:fe(["0x6352211e",p])}));if(l!==S)return null;e.push({type:"owner",content:S})}else if(a==="erc1155"){const S=B.from(yield this.provider.call({to:c,data:fe(["0x00fdd58e",we(l,32),p])}));if(S.isZero())return null;e.push({type:"balance",content:S.toString()})}const k={to:this.provider.formatter.address(i[0]),data:fe([o,p])};let d=We(yield this.provider.call(k),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),a==="erc1155"&&(d=d.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Fe(d)),e.push({type:"metadata-url",content:d});const T=yield at(d);if(!T)return null;e.push({type:"metadata",content:JSON.stringify(T)});let P=T.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(Wt)==null)return null;e.push({type:"url-ipfs",content:P}),P=Fe(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return v(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+ze.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+ze.encode("0x"+n[1])}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===32*2)return"bzz://"+s[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+ir("0x"+a[1]).replace(/[=+\/]/g,i=>o[i])}return x.throwError("invalid or unsupported content hash data",_.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return v(this,void 0,void 0,function*(){let r=Je(e);r=Ie([Ge(64),Ge(r.length),r]),r.length%32!==0&&(r=Ie([r,we("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ue(r));return n==null||n==="0x"?null:Dt(n)})}}let Xe=null,Sr=1;class Wr extends nr{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),q(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Ee(new.target,"getNetwork")(e);r?(q(this,"_network",r),this.emit("network",r,null)):x.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return v(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||x.throwError("no network detected",_.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:q(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ve(()=>this._ready().then(e=>e,e=>{if(!(e.code===_.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Xe==null&&(Xe=new g),Xe}static getNetwork(e){return _r(e??"homestead")}ccipReadFetch(e,r,n){return v(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const s=e.to.toLowerCase(),a=r.toLowerCase(),o=[];for(let l=0;l<n.length;l++){const i=n[l],c=i.replace("{sender}",s).replace("{data}",a),p=i.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:s}),k=yield at({url:c,errorPassThrough:!0},p,(T,P)=>(T.status=P.statusCode,T));if(k.data)return k.data;const d=k.message||"unknown error";if(k.status>=400&&k.status<500)return x.throwError(`response not found during CCIP fetch: ${d}`,_.errors.SERVER_ERROR,{url:i,errorMessage:d});o.push(d)}return x.throwError(`error encountered during CCIP fetch: ${o.map(l=>JSON.stringify(l)).join(", ")}`,_.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return v(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const s=this._internalBlockNumber;try{const a=yield s;if(_e()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===s)break}}const r=_e(),n=ne({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(s=>null,s=>s)}).then(({blockNumber:s,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const o=_e();return s=B.from(s).toNumber(),s<this._maxInternalBlockNumber&&(s=this._maxInternalBlockNumber),this._maxInternalBlockNumber=s,this._setFastBlockNumber(s),{blockNumber:s,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(s=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return v(this,void 0,void 0,function*(){const e=Sr++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(s){this.emit("error",s);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)x.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",x.makeError("network block skew detected",_.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let s=this._emitted.block+1;s<=n;s++)this.emit("block",s);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(s=>{if(s==="block")return;const a=this._emitted[s];a!=="pending"&&n-a>12&&delete this._emitted[s]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(s=>{switch(s.type){case"tx":{const a=s.hash;let o=this.getTransactionReceipt(a).then(l=>(!l||l.blockNumber==null||(this._emitted["t:"+a]=l.blockNumber,this.emit(a,l)),null)).catch(l=>{this.emit("error",l)});r.push(o);break}case"filter":{if(!s._inflight){s._inflight=!0,s._lastBlockNumber===-2&&(s._lastBlockNumber=n-1);const a=s.filter;a.fromBlock=s._lastBlockNumber+1,a.toBlock=n;const o=a.toBlock-this._maxFilterBlockRange;o>a.fromBlock&&(a.fromBlock=o),a.fromBlock<0&&(a.fromBlock=0);const l=this.getLogs(a).then(i=>{s._inflight=!1,i.length!==0&&i.forEach(c=>{c.blockNumber>s._lastBlockNumber&&(s._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(a,c)})}).catch(i=>{this.emit("error",i),s._inflight=!1});r.push(l)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(s=>{this.emit("error",s)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return v(this,void 0,void 0,function*(){return x.throwError("provider does not support network detection",_.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return v(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield yt(0),this._network;const n=x.makeError("underlying network changed",_.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=_e();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=_e(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return v(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,s){return v(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((o,l)=>{const i=[];let c=!1;const p=function(){return c?!0:(c=!0,i.forEach(d=>{d()}),!1)},k=d=>{d.confirmations<r||p()||o(d)};if(this.on(e,k),i.push(()=>{this.removeListener(e,k)}),s){let d=s.startBlock,T=null;const P=S=>v(this,void 0,void 0,function*(){c||(yield yt(1e3),this.getTransactionCount(s.from).then(H=>v(this,void 0,void 0,function*(){if(!c){if(H<=s.nonce)d=S;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(T==null&&(T=d-3,T<s.startBlock&&(T=s.startBlock));T<=S;){if(c)return;const E=yield this.getBlockWithTransactions(T);for(let W=0;W<E.transactions.length;W++){const R=E.transactions[W];if(R.hash===e)return;if(R.from===s.from&&R.nonce===s.nonce){if(c)return;const K=yield this.waitForTransaction(R.hash,r);if(p())return;let j="replaced";R.data===s.data&&R.to===s.to&&R.value.eq(s.value)?j="repriced":R.data==="0x"&&R.from===R.to&&R.value.isZero()&&(j="cancelled"),l(x.makeError("transaction was replaced",_.errors.TRANSACTION_REPLACED,{cancelled:j==="replaced"||j==="cancelled",reason:j,replacement:this._wrapTransaction(R),hash:e,receipt:K}));return}}T++}}c||this.once("block",P)}}),H=>{c||this.once("block",P)}))});if(c)return;this.once("block",P),i.push(()=>{this.removeListener("block",P)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{p()||l(x.makeError("timeout exceeded",_.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),i.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return v(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return v(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return B.from(e)}catch(r){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return v(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getBalance",n);try{return B.from(s)}catch(a){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"getBalance",params:n,result:s,error:a})}})}getTransactionCount(e,r){return v(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getTransactionCount",n);try{return B.from(s).toNumber()}catch(a){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:s,error:a})}})}getCode(e,r){return v(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),s=yield this.perform("getCode",n);try{return ue(s)}catch(a){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"getCode",params:n,result:s,error:a})}})}getStorageAt(e,r,n){return v(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield ne({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>st(o))}),a=yield this.perform("getStorageAt",s);try{return ue(a)}catch(o){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"getStorageAt",params:s,result:a,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Ae(r)!==32)throw new Error("invalid response - sendTransaction");const s=e;return r!=null&&e.hash!==r&&x.throwError("Transaction hash mismatch from Provider.sendTransaction.",_.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),s.wait=(a,o)=>v(this,void 0,void 0,function*(){a==null&&(a=1),o==null&&(o=0);let l;a!==0&&n!=null&&(l={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const i=yield this._waitForTransaction(e.hash,a,o,l);return i==null&&a===0?null:(this._emitted["t:"+e.hash]=i.blockNumber,i.status===0&&x.throwError("transaction failed",_.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:i}),i)}),s}sendTransaction(e){return v(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>ue(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const s=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,s)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return v(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?B.from(a):null))}),["type"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(s=>{r[s]!=null&&(n[s]=Promise.resolve(r[s]).then(a=>a?ue(a):null))}),this.formatter.transactionRequest(yield ne(n))})}_getFilter(e){return v(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield ne(r))})}_call(e,r,n){return v(this,void 0,void 0,function*(){n>=Pr&&x.throwError("CCIP read exceeded maximum redirections",_.errors.SERVER_ERROR,{redirects:n,transaction:e});const s=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&s!=null&&a.substring(0,10)==="0x556f1830"&&Ae(a)%32===4)try{const o=se(a,4),l=se(o,0,32);B.from(l).eq(s)||x.throwError("CCIP Read sender did not match",_.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const i=[],c=B.from(se(o,32,64)).toNumber(),p=B.from(se(o,c,c+32)).toNumber(),k=se(o,c+32);for(let E=0;E<p;E++){const W=We(k,E*32);W==null&&x.throwError("CCIP Read contained corrupt URL string",_.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),i.push(W)}const d=xe(o,64);B.from(se(o,100,128)).isZero()||x.throwError("CCIP Read callback selector included junk",_.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const T=se(o,96,100),P=xe(o,128),S=yield this.ccipReadFetch(e,d,i);S==null&&x.throwError("CCIP Read disabled or provided no URLs",_.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const H={to:s,data:fe([T,Lt([S,P])])};return this._call(H,r,n+1)}catch(o){if(o.code===_.errors.SERVER_ERROR)throw o}try{return ue(a)}catch(o){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:o})}})}call(e,r){return v(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield ne({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return v(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ne({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return B.from(n)}catch(s){return x.throwError("bad result from backend",_.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:s})}})}_getAddress(e){return v(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&x.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&x.throwError("ENS name not configured",_.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return v(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const s={includeTransactions:!!r};if(ae(e,32))s.blockHash=e;else try{s.blockTag=yield this._getBlockTag(e),ae(s.blockTag)&&(n=parseInt(s.blockTag.substring(2),16))}catch{x.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ve(()=>v(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",s);if(a==null)return s.blockHash!=null&&this._emitted["b:"+s.blockHash]==null||s.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let i=0;i<a.transactions.length;i++){const c=a.transactions[i];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=o-c.blockNumber+1;p<=0&&(p=1),c.confirmations=p}}const l=this.formatter.blockWithTransactions(a);return l.transactions=l.transactions.map(i=>this._wrapTransaction(i)),l}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return v(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ve(()=>v(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const s=this.formatter.transactionResponse(n);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;o<=0&&(o=1),s.confirmations=o}return this._wrapTransaction(s)}),{oncePoll:this})})}getTransactionReceipt(e){return v(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ve(()=>v(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const s=this.formatter.receipt(n);if(s.blockNumber==null)s.confirmations=0;else if(s.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-s.blockNumber+1;o<=0&&(o=1),s.confirmations=o}return s}),{oncePoll:this})})}getLogs(e){return v(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield ne({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(s=>{s.removed==null&&(s.removed=!1)}),g.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return v(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return v(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&x.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return v(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const s=new vt(this,n,e);return r!==e&&!(yield s.supportsWildcard())?null:s}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return v(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||x.throwError("network does not support ENS",_.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const s=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Se(e).substring(2)});return this.formatter.callAddress(s)}catch{}return null})}resolveName(e){return v(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ae(e))throw n}typeof e!="string"&&x.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return v(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const s=We(yield this.call({to:n,data:"0x691f3431"+Se(r).substring(2)}),0);return(yield this.resolveName(s))!=e?null:s})}getAvatar(e){return v(this,void 0,void 0,function*(){let r=null;if(ae(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(a,"getAvatar");if(!o)return null;r=new vt(this,o,a);try{const l=yield r.getAvatar();if(l)return l.url}catch(l){if(l.code!==_.errors.CALL_EXCEPTION)throw l}try{const l=We(yield this.call({to:o,data:"0x691f3431"+Se(a).substring(2)}),0);r=yield this.getResolver(l)}catch(l){if(l.code!==_.errors.CALL_EXCEPTION)throw l;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return x.throwError(e+" not implemented",_.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const s=new Or(ge(e),r,n);return this._events.push(s),this._startEvent(s),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,s=[],a=ge(e);return this._events=this._events.filter(o=>o.tag!==a?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(s.push(o),!1):!0)),s.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=ge(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ge(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let s=!1,a=ge(e);return this._events=this._events.filter(o=>o.tag!==a||o.listener!=r||s?!0:(s=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ge(e);this._events=this._events.filter(s=>s.tag!==n?!0:(r.push(s),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var le=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(p){try{c(n.next(p))}catch(k){o(k)}}function i(p){try{c(n.throw(p))}catch(k){o(k)}}function c(p){p.done?a(p.value):s(p.value).then(l,i)}c((n=n.apply(t,e||[])).next())})};const $=new _(qe),Lr=["call","estimateGas"];function Ne(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ae(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Ne(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Ne(JSON.parse(t),e)}catch{}return null}function jt(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const a=Ne(e,!0);if(a)return a.data;$.throwError("missing revert data in call exception; Transaction reverted without a reason string",_.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let a=Ne(e.body,!1);a==null&&(a=Ne(e,!1)),a&&$.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:n,error:e})}let s=e.message;throw e.code===_.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?s=e.error.message:typeof e.body=="string"?s=e.body:typeof e.responseText=="string"&&(s=e.responseText),s=(s||"").toLowerCase(),s.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&$.throwError("insufficient funds for intrinsic transaction cost",_.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),s.match(/nonce (is )?too low/i)&&$.throwError("nonce has already been used",_.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),s.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&$.throwError("replacement fee too low",_.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),s.match(/only replay-protected/i)&&$.throwError("legacy pre-eip-155 transactions not supported",_.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Lr.indexOf(t)>=0&&s.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&$.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",_.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function It(t){return new Promise(function(e){setTimeout(e,t)})}function jr(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ke(t){return t&&t.toLowerCase()}const nt={};class Mt extends cr{constructor(e,r,n){if(super(),e!==nt)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");q(this,"provider",r),n==null&&(n=0),typeof n=="string"?(q(this,"_address",this.provider.formatter.address(n)),q(this,"_index",null)):typeof n=="number"?(q(this,"_index",n),q(this,"_address",null)):$.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return $.throwError("cannot alter JSON-RPC Signer connection",_.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Mr(nt,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&$.throwError("unknown account #"+this._index,_.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=me(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=me(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>le(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.provider.resolveName(n);return s==null&&$.throwArgumentError("provided ENS name resolves to null","tx.to",n),s}))),ne({tx:ne(e),sender:r}).then(({tx:n,sender:s})=>{n.from!=null?n.from.toLowerCase()!==s&&$.throwArgumentError("from address mismatch","transaction",e):n.from=s;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&$.throwError("user rejected transaction",_.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),jt("sendTransaction",o,a)))})}signTransaction(e){return $.throwError("signing transactions is unsupported",_.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return le(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ve(()=>le(this,void 0,void 0,function*(){const s=yield this.provider.getTransaction(n);if(s!==null)return this.provider._wrapTransaction(s,n,r)}),{oncePoll:this.provider})}catch(s){throw s.transactionHash=n,s}})}signMessage(e){return le(this,void 0,void 0,function*(){const r=typeof e=="string"?Je(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ue(r),n.toLowerCase()])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&$.throwError("user rejected signing",_.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),s}})}_legacySignMessage(e){return le(this,void 0,void 0,function*(){const r=typeof e=="string"?Je(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ue(r)])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&$.throwError("user rejected signing",_.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),s}})}_signTypedData(e,r,n){return le(this,void 0,void 0,function*(){const s=yield ct.resolveNames(e,r,n,o=>this.provider.resolveName(o)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(ct.getPayload(s.domain,r,s.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&$.throwError("user rejected signing",_.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:s.domain,types:r,value:s.value}}),o}})}unlock(e){return le(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Mr extends Mt{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Ur={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class $r extends Wr{constructor(e,r){let n=r;n==null&&(n=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(o=>{s(o)},o=>{a(o)})},0)})),super(n),e||(e=Ee(this.constructor,"defaultUrl")()),typeof e=="string"?q(this,"connection",Object.freeze({url:e})):q(this,"connection",Object.freeze(me(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return le(this,void 0,void 0,function*(){yield It(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Ee(this.constructor,"getNetwork");try{return r(B.from(e).toNumber())}catch(n){return $.throwError("could not detect network",_.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return $.throwError("could not detect network",_.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Mt(nt,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ot(n),provider:this});const s=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(s&&this._cache[e])return this._cache[e];const a=at(this.connection,JSON.stringify(n),jr).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return s&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ke(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ke(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ke(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ke(r.address),we(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Ee(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Ee(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ke(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return le(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const s=r.transaction;if(s&&s.type!=null&&B.from(s.type).isZero()&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=me(r),r.transaction=me(s),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&$.throwError(e+" not implemented",_.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(s){return jt(e,s,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function s(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return a.forEach(function(l){e._emitted["t:"+l.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(l).then(function(i){return e.emit("pending",i),null})})}),o.then(function(){return It(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){s()},0),null}).catch(a=>{})}return s(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=me(Ur);if(r)for(const a in r)r[a]&&(n[a]=!0);lr(e,n);const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const o=st(B.from(e[a]));a==="gasLimit"&&(a="gas"),s[a]=o}),["from","to","data"].forEach(function(a){e[a]!=null&&(s[a]=ue(e[a]))}),e.accessList&&(s.accessList=Ot(e.accessList)),s}}const Tt=new _(qe);let Vr=1;function Nt(t,e){const r="Web3LegacyFetcher";return function(n,s){const a={method:n,params:s,id:Vr++,jsonrpc:"2.0"};return new Promise((o,l)=>{this.emit("debug",{action:"request",fetcher:r,request:ot(a),provider:this}),e(a,(i,c)=>{if(i)return this.emit("debug",{action:"response",fetcher:r,error:i,request:a,provider:this}),l(i);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:c,provider:this}),c.error){const p=new Error(c.error.message);return p.code=c.error.code,p.data=c.error.data,l(p)}o(c.result)})})}}function qr(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ot(n),provider:this}),t.request(n).then(s=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:s,provider:this}),s})}}class Hr extends $r{constructor(e,r){e==null&&Tt.throwArgumentError("missing provider","provider",e);let n=null,s=null,a=null;typeof e=="function"?(n="unknown:",s=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),s=qr(e)):e.sendAsync?s=Nt(e,e.sendAsync.bind(e)):e.send?s=Nt(e,e.send.bind(e)):Tt.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),q(this,"jsonRpcFetchFunc",s),q(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}function Kr(t){const{whitelistedDomains:e=[/^https:\/\/app\.safe\.global$/,/^https:\/\/safe\.global$/,/^https:\/\/.*\.blockscout\.com$/,/^https:\/\/pilot\.gnosisguild\.org$/]}=t||{};return()=>window.self!==window.top?{label:"Safe",getIcon:async()=>(await f(()=>import("./icon-11a5d515.js"),[])).default,getInterface:async()=>{const{default:n}=await f(()=>import("./index-2770f4a6.js").then(d=>d.i),["assets/index-2770f4a6.js","assets/lodash-90a1c433.js","assets/react-ac02b43c.js"]),{SafeAppProvider:s}=await f(()=>import("./index-f4b534e3.js").then(d=>d.i),["assets/index-f4b534e3.js","assets/lodash-90a1c433.js","assets/priceReference-015357d4.js","assets/react-ac02b43c.js","assets/index-6c9a656c.js","assets/style-053d0d8d.js","assets/index-779ddf66.js","assets/index-7cc8a1c8.css"]),{createEIP1193Provider:a}=await f(()=>import("./react-ac02b43c.js").then(d=>d.cP),["assets/react-ac02b43c.js","assets/lodash-90a1c433.js"]),o=n.default||n,l={allowedDomains:e},i=new o(l),c=await Promise.race([i.safe.getInfo(),new Promise(d=>setTimeout(d,200))]);if(!c)throw new Error('App must be loaded in a Safe App context, head to <a href="https://app.safe.global/">the Safe</a> and open this website as an app.');const p=new s(c,i);return{provider:a(p,{eth_requestAccounts:()=>Promise.resolve([c.safeAddress])}),instance:i}}}:[]}var u;(function(t){t.AlphaWallet="isAlphaWallet",t.ApexWallet="isApexWallet",t.AToken="isAToken",t.BifrostWallet="isBifrost",t.Binance="bbcSignTx",t.Bitpie="isBitpie",t.BlockWallet="isBlockWallet",t.Coinbase="isToshi",t.CoinbaseExtension="isCoinbaseWallet",t.Detected="request",t.Dcent="isDcentWallet",t.Exodus="isExodus",t.Frontier="isFrontier",t.Frame="isFrame",t.HuobiWallet="isHbWallet",t.HyperPay="isHyperPay",t.ImToken="isImToken",t.InfinityWallet="isInfinityWallet",t.Liquality="isLiquality",t.MeetOne="wallet",t.MetaMask="isMetaMask",t.MyKey="isMYKEY",t.OwnBit="isOwnbit",t.Status="isStatus",t.Trust="isTrust",t.TokenPocket="isTokenPocket",t.TP="isTp",t.WalletIo="isWalletIO",t.XDEFI="isXDEFI",t.OneInch="isOneInchIOSWallet",t.Tokenary="isTokenary",t.Tally="isTally",t.BraveWallet="isBraveWallet",t.Rabby="isRabby",t.MathWallet="isMathWallet",t.Bitget="isBitKeep",t.Sequence="isSequence",t.Core="isAvalanche",t.Opera="isOpera",t.Bitski="isBitski",t.Enkrypt="isEnkrypt",t.Phantom="isPhantom",t.OKXWallet="isOkxWallet",t.Zeal="isZeal",t.Zerion="isZerion",t.Rainbow="isRainbow",t.SafePal="isSafePal",t.DeFiWallet="isDeficonnectProvider",t.Safeheron="isSafeheron",t.Talisman="isTalisman",t.OneKey="isOneKey",t.Fordefi="isFordefi",t.Coin98Wallet="isCoin98",t.SubWallet="isSubWallet",t.Kayros="isKayros",t.FoxWallet="isFoxWallet",t.Lif3Wallet="isLif3Wallet",t.ZodiacPilot="isZodiacPilot",t.StableWallet="isStableWallet",t.Echooo="isEchooo"})(u||(u={}));var X;(function(t){t.Binance="https://www.bnbchain.org/ru/blog/binance-extension-wallet/",t.Bitget="https://web3.bitget.com/en/wallet-download",t.Coinbase="https://www.coinbase.com/wallet/downloads",t.MetaMask="https://metamask.io/download/",t.OKXWallet="https://okx.com/download",t.Phantom="https://phantom.app/ul/v1/connect",t.Talisman="https://www.talisman.xyz/",t.Trust="https://link.trustwallet.com",t.OneKey="https://onekey.so/download/",t.RoninWallet="https://wallet.skymavis.com/",t.Coin98Wallet="https://coin98.com/wallet/",t.SubWallet="https://www.subwallet.app/",t.Kayros="https://www.kayros.games/wallet/",t.XDEFI="https://xdefi.io/",t.FoxWallet="https://foxwallet.com/download",t.Lif3Wallet="https://lif3.com",t.Rabby="https://rabby.io",t.ZodiacPilot="https://pilot.gnosisguild.org/",t.Echooo="https://www.echooo.xyz"})(X||(X={}));var b;(function(t){t.AlphaWallet="AlphaWallet",t.ApexWallet="Apex Wallet",t.AToken="AToken",t.BifrostWallet="Bifrost Wallet",t.Binance="Binance Smart Wallet",t.Bitpie="Bitpie",t.Bitski="Bitski",t.BlockWallet="BlockWallet",t.Brave="Brave Wallet",t.Coinbase="Coinbase Wallet",t.Dcent="D'CENT",t.Detected="Detected Wallet",t.Exodus="Exodus",t.Frame="Frame",t.Frontier="Frontier",t.HuobiWallet="Huobi Wallet",t.HyperPay="HyperPay",t.ImToken="imToken",t.InfinityWallet="Infinity Wallet",t.Liquality="Liquality",t.MeetOne="MeetOne",t.MetaMask="MetaMask",t.MyKey="MyKey",t.Opera="Opera Wallet",t.OwnBit="OwnBit",t.Status="Status Wallet",t.Trust="Trust Wallet",t.TokenPocket="TokenPocket",t.TP="TP Wallet",t.WalletIo="Wallet.io",t.XDEFI="XDEFI Wallet",t.OneInch="1inch Wallet",t.Tokenary="Tokenary Wallet",t.Tally="Taho",t.Rabby="Rabby Wallet",t.MathWallet="MathWallet",t.Bitget="Bitget Wallet",t.Sequence="Sequence",t.Core="Core",t.Enkrypt="Enkrypt",t.Zeal="Zeal",t.Phantom="Phantom",t.OKXWallet="OKX Wallet",t.Zerion="Zerion",t.Rainbow="Rainbow",t.SafePal="SafePal",t.DeFiWallet="DeFi Wallet",t.Safeheron="Safeheron",t.Talisman="Talisman",t.OneKey="OneKey",t.Fordefi="Fordefi",t.RoninWallet="Ronin Wallet",t.Coin98Wallet="Coin98 Wallet",t.SubWallet="SubWallet",t.Kayros="Kayros",t.FoxWallet="FoxWallet",t.Lif3Wallet="Lif3 Wallet",t.ZodiacPilot="Zodiac Pilot",t.StableWallet="StableWallet",t.Echooo="Echooo"})(b||(b={}));var h;(function(t){t.Ethereum="ethereum",t.Binance="BinanceChain",t.Tally="tally",t.Web3="web3",t.Arbitrum="arbitrum",t.XFI="xfi",t.Bitget="bitkeep",t.Avalanche="avalanche",t.Bitski="Bitski",t.Enkrypt="enkrypt",t.Zeal="zeal",t.Phantom="phantom",t.OKXWallet="okxwallet",t.Trust="trustwallet",t.Frontier="frontier",t.DeFiConnectProvider="deficonnectProvider",t.Safeheron="safeheron",t.Talisman="talismanEth",t.OneKey="$onekey",t.RoninWallet="ronin",t.Coin98Wallet="coin98",t.SubWallet="SubWallet",t.Kayros="kayros",t.FoxWallet="foxwallet",t.Echooo="echooo"})(h||(h={}));const V=null;function Q(t,e){return async()=>({provider:window.ethereum.providers&&Array.isArray(window.ethereum.providers)?Gr(t,e):window.ethereum})}function Gr(t,e){return window.ethereum.providers.find(r=>e?!!r[t]&&!Ut(t,r):!!r[t])}function Ut(t,e){return Object.values(u).filter(n=>n!==t&&n!==u.Detected).some(n=>!!e[n])}const Fr={label:b.MetaMask,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.MetaMask]&&!Ut(u.MetaMask,t),getIcon:async()=>(await f(()=>import("./metamask-1c685b94.js"),[])).default,getInterface:Q(u.MetaMask,!0),platforms:["all"],externalUrl:X.MetaMask},Xr={label:b.InfinityWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.InfinityWallet],getIcon:async()=>(await f(()=>import("./infinitywallet-c00488d1.js"),[])).default,getInterface:Q(u.InfinityWallet),platforms:["desktop"]},Zr={label:b.Exodus,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Exodus],getIcon:async()=>(await f(()=>import("./exodus-358b5e9e.js"),[])).default,getInterface:Q(u.Exodus),platforms:["all"]},zr={label:b.Frontier,injectedNamespace:h.Frontier,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[u.Frontier],getIcon:async()=>(await f(()=>import("./frontier-035eb74c.js"),[])).default,getInterface:async()=>({provider:D(window.frontier.ethereum)}),platforms:["all"]},Jr={label:b.Brave,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.BraveWallet],getIcon:async()=>(await f(()=>import("./brave-889178d1.js"),[])).default,getInterface:Q(u.BraveWallet),platforms:["all"]},Yr={label:b.Binance,injectedNamespace:h.Binance,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Binance],getIcon:async()=>(await f(()=>import("./binance-aad6707a.js"),[])).default,getInterface:async()=>{let t={...window.BinanceChain};window.BinanceChain=t;const e=window.BinanceChain.on.bind(window.BinanceChain);window.BinanceChain.on=(n,s)=>{n==="chainChanged"?e(n,a=>{s(`0x${parseInt(a).toString(16)}`)}):e(n,s)};const r=D(window.BinanceChain,{eth_chainId:({baseRequest:n})=>n({method:"eth_chainId"}).then(s=>`0x${parseInt(s).toString(16)}`),eth_selectAccounts:V,wallet_switchEthereumChain:V});return r.removeListener=(n,s)=>{},{provider:r}},platforms:["desktop"],externalUrl:X.Binance},Qr={label:b.Coinbase,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Coinbase]||!!t&&!!t[u.CoinbaseExtension],getIcon:async()=>(await f(()=>import("./coinbase-8194cd0a.js"),[])).default,getInterface:async()=>{const{provider:t}=await Q(u.CoinbaseExtension)(),e=t.on.bind(t);return t.on=(r,n)=>{r==="chainChanged"?e(r,s=>{n(`0x${parseInt(s).toString(16)}`)}):e(r,n)},{provider:t}},platforms:["all"],externalUrl:X.Coinbase},en={label:b.Detected,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Detected],getIcon:async()=>(await f(()=>import("./detected-641a4aef.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},tn={label:b.Trust,injectedNamespace:h.Trust,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Trust],getIcon:async()=>(await f(()=>import("./trust-59d19f99.js"),[])).default,getInterface:async()=>{const t=window.hasOwnProperty(h.Ethereum);let e;return t&&window[h.Ethereum].isTrust?e=window[h.Ethereum]:e=window[h.Trust],{provider:e}},platforms:["all"],externalUrl:X.Trust},rn={label:b.Opera,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Opera],getIcon:async()=>(await f(()=>import("./opera-02e3a0e8.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{eth_requestAccounts:async({baseRequest:t})=>t({method:"eth_accounts"}),eth_selectAccounts:V})}),platforms:["all"]},nn={label:b.Status,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Status],getIcon:async()=>(await f(()=>import("./status-049055fb.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},sn={label:b.AlphaWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.AlphaWallet],getIcon:async()=>(await f(()=>import("./alphawallet-eb2bedab.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},an={label:b.ApexWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.ApexWallet],getIcon:async()=>(await f(()=>import("./apexwallet-ea5f0b2c.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},on={label:b.AToken,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.AToken],getIcon:async()=>(await f(()=>import("./atoken-f422e6b4.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},ln={label:b.BifrostWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.BifrostWallet],getIcon:async()=>(await f(()=>import("./bifrostwallet-b2843d3a.js"),[])).default,getInterface:Q(u.BifrostWallet),platforms:["all"]},cn={label:b.Bitpie,injectedNamespace:h.Ethereum,checkProviderIdentity:()=>!!window.Bitpie,getIcon:async()=>(await f(()=>import("./bitpie-8ea44eae.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},un={label:b.BlockWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.BlockWallet],getIcon:async()=>(await f(()=>import("./blockwallet-1235c6b8.js"),[])).default,getInterface:Q(u.BlockWallet),platforms:["desktop"]},dn={label:b.Frame,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Frame],getIcon:async()=>(await f(()=>import("./frame-594ec465.js"),[])).default,getInterface:async()=>{const t=window.ethereum;if(!t||!t.connected)throw new Error("Frame App must be open with a hot wallet connected. If not installed first download the Frame App.");return{provider:t}},platforms:["desktop"]},hn={label:b.HuobiWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.HuobiWallet],getIcon:async()=>(await f(()=>import("./huobiwallet-c6da4601.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},fn={label:b.HyperPay,injectedNamespace:h.Ethereum,checkProviderIdentity:()=>!!window.hiWallet,getIcon:async()=>(await f(()=>import("./hyperpay-75c22b59.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},mn={label:b.ImToken,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.ImToken],getIcon:async()=>(await f(()=>import("./imtoken-4be0a845.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{eth_selectAccounts:V})}),platforms:["mobile"]},pn={label:b.Liquality,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Liquality],getIcon:async()=>(await f(()=>import("./liquality-0e245cbb.js"),[])).default,getInterface:async()=>{const t=D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V});return t.removeListener=(e,r)=>{},{provider:t}},platforms:["desktop"]},gn={label:b.MeetOne,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&t[u.MeetOne]==="MEETONE",getIcon:async()=>(await f(()=>import("./meetone-d2b0ac23.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},wn={label:b.MyKey,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.MyKey],getIcon:async()=>(await f(()=>import("./mykey-4e0c6565.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["mobile"]},bn={label:b.OwnBit,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.OwnBit],getIcon:async()=>(await f(()=>import("./ownbit-fa6734bd.js"),[])).default,getInterface:async()=>{const t=D(window.ethereum,{eth_chainId:({baseRequest:e})=>e({method:"eth_chainId"}).then(r=>`0x${parseInt(r).toString(16)}`),wallet_switchEthereumChain:V,eth_selectAccounts:V});return t.removeListener=(e,r)=>{},t.on=(e,r)=>{},{provider:t}},platforms:["mobile"]},yn={label:b.TokenPocket,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.TokenPocket]&&!t[u.TP],getIcon:async()=>(await f(()=>import("./tokenpocket-a7e81129.js"),[])).default,getInterface:Q(u.TokenPocket),platforms:["all"]},_n={label:b.TP,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.TP],getIcon:async()=>(await f(()=>import("./tp-4b793710.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},kn={label:b.XDEFI,injectedNamespace:h.XFI,checkProviderIdentity:({provider:t})=>t&&t.ethereum&&t.ethereum[u.XDEFI],getIcon:async()=>(await f(()=>import("./xdefi-49d53216.js"),[])).default,getInterface:async()=>({provider:window.xfi&&window.xfi.ethereum}),platforms:["all"],externalUrl:X.XDEFI},En={label:b.OneInch,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.OneInch],getIcon:async()=>(await f(()=>import("./oneInch-104b3cc4.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["mobile"]},vn={label:b.Tokenary,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Tokenary],getIcon:async()=>(await f(()=>import("./tokenary-f771c254.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["all"]},In={label:b.Tally,injectedNamespace:h.Tally,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Tally],getIcon:async()=>(await f(()=>import("./tallywallet-a671320d.js"),[])).default,getInterface:async()=>({provider:D(window.tally)}),platforms:["desktop"]},Tn={label:b.Zeal,injectedNamespace:h.Zeal,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Zeal],getIcon:async()=>(await f(()=>import("./zeal-8b158173.js"),[])).default,getInterface:async()=>({provider:D(window.zeal)}),platforms:["desktop"]},Nn={label:b.Rabby,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Rabby],getIcon:async()=>(await f(()=>import("./rabby-fc161279.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["desktop","mobile"]},An={label:b.MathWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.MathWallet],getIcon:async()=>(await f(()=>import("./mathwallet-ff05f48e.js"),[])).default,getInterface:Q(u.MathWallet),platforms:["all"]},xn={label:b.Bitget,injectedNamespace:h.Bitget,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum[u.Bitget],getIcon:async()=>(await f(()=>import("./bitget-85ee4ac2.js"),[])).default,getInterface:async()=>({provider:window.bitkeep&&window.bitkeep.ethereum}),platforms:["all"],externalUrl:X.Bitget},Pn={label:b.Sequence,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Sequence],getIcon:async()=>(await f(()=>import("./sequence-c07eb3ae.js"),[])).default,getInterface:async()=>({provider:window.ethereum}),platforms:["all"]},Rn={label:b.Core,injectedNamespace:h.Avalanche,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Core],getIcon:async()=>(await f(()=>import("./core-1c42229d.js"),[])).default,getInterface:Q(u.Core),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},Cn={label:b.Bitski,injectedNamespace:h.Bitski,checkProviderIdentity:({provider:t})=>!!t&&!!t.getProvider&&!!t.getProvider().isBitski,getIcon:async()=>(await f(()=>import("./bitski-220980c2.js"),[])).default,getInterface:async()=>({provider:window.Bitski&&window.Bitski.getProvider&&window.Bitski.getProvider()}),platforms:["all"]},On={label:b.Zerion,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Zerion],getIcon:async()=>(await f(()=>import("./zerion-d2dfe88d.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["all"]},Dn={label:b.Enkrypt,injectedNamespace:h.Enkrypt,checkProviderIdentity:({provider:t})=>!!t&&!!t.providers&&!!t.providers.ethereum,getIcon:async()=>(await f(()=>import("./enkrypt-b1f25ae2.js"),[])).default,getInterface:async()=>{const t=window.enkrypt.providers.ethereum.on.bind(window.enkrypt.providers.ethereum);window.enkrypt.providers.ethereum.on=(r,n)=>{r==="chainChanged"?t(r,s=>{n(`0x${parseInt(s).toString(16)}`)}):t(r,n)};const e=D(window.enkrypt.providers.ethereum,{eth_chainId:({baseRequest:r})=>r({method:"eth_chainId"}).then(n=>`0x${parseInt(n).toString(16)}`)});return e.removeListener=(r,n)=>{},{provider:e}},platforms:["all"]},Bn={label:b.Phantom,injectedNamespace:h.Phantom,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[u.Phantom],getIcon:async()=>(await f(()=>import("./phantom-9b3bd709.js"),[])).default,getInterface:async()=>({provider:D(window.phantom.ethereum)}),platforms:["all"],externalUrl:X.Phantom},Sn={label:b.SafePal,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.SafePal],getIcon:async()=>(await f(()=>import("./safepal-7fa6b910.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["all"]},Wn={label:b.Rainbow,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Rainbow],getIcon:async()=>(await f(()=>import("./rainbow-1fe0d81a.js"),[])).default,getInterface:Q(u.Rainbow),platforms:["all"]},Ln={label:b.OKXWallet,injectedNamespace:h.OKXWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.OKXWallet],getIcon:async()=>(await f(()=>import("./okxwallet-1c6a2600.js"),[])).default,getInterface:async()=>({provider:D(window.okxwallet)}),platforms:["all"],externalUrl:X.OKXWallet},jn={label:b.DeFiWallet,injectedNamespace:h.DeFiConnectProvider,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.DeFiWallet],getIcon:async()=>(await f(()=>import("./defiwallet-99978b81.js"),[])).default,getInterface:async()=>({provider:D(window.deficonnectProvider)}),platforms:["all"]},Mn={label:b.Safeheron,injectedNamespace:h.Safeheron,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Safeheron],getIcon:async()=>(await f(()=>import("./safeheron-de7caf3b.js"),[])).default,getInterface:async()=>({provider:D(window.safeheron)}),platforms:["desktop","Chrome","Chromium","Microsoft Edge"]},Un={label:b.Talisman,injectedNamespace:h.Talisman,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Talisman],getIcon:async()=>(await f(()=>import("./talisman-0ce2f18e.js"),[])).default,getInterface:async()=>({provider:D(window.talismanEth)}),platforms:["desktop"],externalUrl:X.Talisman},$n={label:b.RoninWallet,injectedNamespace:h.RoninWallet,checkProviderIdentity:({provider:t})=>!!t,getIcon:async()=>(await f(()=>import("./roninwallet-b1ea937e.js"),[])).default,getInterface:async()=>({provider:D(window.ronin.provider)}),platforms:["all"],externalUrl:X.RoninWallet},Vn={label:b.OneKey,injectedNamespace:h.OneKey,checkProviderIdentity:({provider:t})=>!!t&&!!t.ethereum&&!!t.ethereum[u.OneKey],getIcon:async()=>(await f(()=>import("./onekey-102b2f4e.js"),[])).default,getInterface:async()=>({provider:D(window.$onekey.ethereum)}),platforms:["all"],externalUrl:X.OneKey},qn={label:b.Fordefi,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Fordefi],getIcon:async()=>(await f(()=>import("./fordefi-9b741b3f.js"),[])).default,getInterface:Q(u.Fordefi,!0),platforms:["desktop"]},Hn={label:b.Coin98Wallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Coin98Wallet],getIcon:async()=>(await f(()=>import("./coin98wallet-3c8352d2.js"),[])).default,getInterface:async()=>{const t=window.hasOwnProperty(h.Ethereum);let e;return t&&window[h.Ethereum].isCoin98?e=window[h.Ethereum]:e=window[h.Coin98Wallet].provider,{provider:e}},platforms:["all"],externalUrl:X.Coin98Wallet},Kn={label:b.SubWallet,injectedNamespace:h.SubWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.SubWallet],getIcon:async()=>(await f(()=>import("./subwallet-eb6bfc96.js"),[])).default,getInterface:async()=>({provider:D(window.SubWallet)}),platforms:["all"],externalUrl:X.SubWallet},Gn={label:b.Kayros,injectedNamespace:h.Kayros,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Kayros],getIcon:async()=>(await f(()=>import("./kayros-362d5de7.js"),[])).default,getInterface:async()=>({provider:D(window.kayros)}),platforms:["desktop"]},Fn={label:b.FoxWallet,injectedNamespace:h.FoxWallet,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.FoxWallet],getIcon:async()=>(await f(()=>import("./foxwallet-bc08f648.js"),[])).default,getInterface:async()=>({provider:D(window.foxwallet)}),platforms:["mobile"]},Xn={label:b.Lif3Wallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Lif3Wallet],getIcon:async()=>(await f(()=>import("./lif3wallet-c8762466.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum,{wallet_switchEthereumChain:V,eth_selectAccounts:V})}),platforms:["mobile"]},Zn={label:b.ZodiacPilot,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.ZodiacPilot],getIcon:async()=>(await f(()=>import("./zodiacpilot-faaac71d.js"),[])).default,getInterface:async()=>({provider:D(window.ethereum)}),platforms:["desktop"],externalUrl:X.ZodiacPilot},zn={label:b.StableWallet,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.StableWallet],getIcon:async()=>(await f(()=>import("./stablewallet-e1dad3ee.js"),[])).default,getInterface:Q(u.StableWallet),platforms:["mobile"]},Jn={label:b.Echooo,injectedNamespace:h.Ethereum,checkProviderIdentity:({provider:t})=>!!t&&!!t[u.Echooo],getIcon:async()=>(await f(()=>import("./echooo-b8d84dd4.js"),[])).default,getInterface:Q(u.Echooo),platforms:["all"],externalUrl:X.Echooo},Yn=[Tn,Zr,zr,Fr,ln,Yr,Qr,en,tn,rn,nn,sn,an,on,xn,cn,un,Jr,dn,hn,fn,mn,pn,gn,wn,bn,yn,_n,kn,En,vn,In,Nn,An,Pn,Rn,Cn,Dn,Bn,Ln,On,Wn,Sn,jn,Xr,Mn,Un,Vn,qn,$n,Hn,Kn,Gn,Fn,Xn,Zn,zn,Jn],Qn=I.object({label:I.string().required(),getIcon:I.function().arity(0).required(),getInterface:I.function().maxArity(1).required(),injectedNamespace:I.string().required(),checkProviderIdentity:I.function().arity(1).required(),platforms:I.array().items(I.string()),externalUrl:I.string()}),es=I.array().items(Qn),ts=I.object().pattern(/\w+/,I.any().allow(I.boolean(),I.array().items(I.string()))),rs=I.object({custom:es,filter:ts,displayUnavailable:[I.boolean(),I.array().items(I.string())],walletUnavailableMessage:I.function(),sort:I.function(),externalUrl:I.string(),disable6963Support:I.boolean()}),ns=t=>Ct(rs,t),ss=I.object({uuid:I.string().required(),name:I.string().required(),icon:I.string().required(),rdns:I.string().required()}),as=I.object({info:ss.required(),provider:I.object().required()}),os=t=>Ct(as,t),is=({label:t,externalUrl:e})=>e?`Please <a href="${e}" target="_blank">install or switch to</a> ${t} to continue`:`Please install or enable ${t} to continue`,ls=(t,e,r)=>{var n;return t?e({provider:t,device:r})?!0:!!((n=t.providers)!=null&&n.some(s=>e({provider:s,device:r}))):!1};function cs(t){if(!t)return!1;const e=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/\bon[a-z]+\s*=\s*["']?(?:javascript:)?/gi,n=/\b(href|xlink:href)\s*=\s*["']?javascript:/gi;return!!(e.test(t)||r.test(t)||n.test(t))}const $t=[];function us(){window.addEventListener("eip6963:announceProvider",t=>{const e=t,{detail:r}=e;if(!r)return;if(e){const l=os(r);if(l&&l.error)throw l.error}const{info:n,provider:s}=r,{name:a,icon:o}=n;if(cs(o)){console.error(`The icon for injected wallet: ${a} contains executable JavaScript and has been blocked.`);return}$t.push({label:a,getIcon:async()=>o,getInterface:async()=>({provider:s}),platforms:["all"],eip6963Provider:s,checkProviderIdentity:({provider:l})=>!!l})}),window.dispatchEvent(new CustomEvent("eip6963:requestProvider"))}function Vt(t){if(typeof window>"u")return()=>null;if(t){const e=ns(t);if(e&&e.error)throw e.error}return!(t!=null&&t.disable6963Support)&&us(),e=>{const{device:r}=e,{custom:n=[],filter:s={},displayUnavailable:a,sort:o,walletUnavailableMessage:l}=t||{},c=wr([...n,...$t,...Yn],({label:p})=>p).reduce((p,k)=>{const{label:d,platforms:T,injectedNamespace:P,checkProviderIdentity:S,eip6963Provider:H}=k,E=s[d],W=E===!1,R=H||window[P],K=ls(R,S,r);let j=!1;Array.isArray(E)&&(E.includes(r.type)||r.os&&E.includes(r.os.name))&&(j=!0),E==="unavailable"&&!K&&(j=!0);const ee=!T.includes("all")&&r.type!==null&&!T.includes(r.type)&&!T.includes(r.os.name);return!W&&!j&&!ee&&(K||a===!0||Array.isArray(a)&&a.length&&a.includes(k.label))&&p.push((a===!0||Array.isArray(a)&&a.length&&a.includes(k.label))&&!K?{...k,getInterface:async()=>{throw new Error(l?l(k):is(k))}}:k),p},[]);if(c.length){const p=c.length>1,k=c.filter(d=>{const{label:T}=d;return!(T===b.Detected&&p)}).map(({label:d,getIcon:T,getInterface:P})=>({label:d,getIcon:T,getInterface:P})).sort((d,T)=>d.label<T.label?-1:d.label>T.label?1:0);return o?o(k):k}return[]}}const ds=I.object({handleUri:I.func().optional(),version:I.number().optional().custom((t,e)=>{if(t===1)console.warn("Version 1 of WalletConnect has been fully deprecated. This version of @web3-onboard/walletconnect only supports version 2");else if(t!==2&&t!==void 0)return e.error("any.invalid",{message:"Invalid version number. This version of @web3-onboard/walletconnect only supports version 2"});return t},"Custom version validation"),projectId:I.string().messages({"any.required":"WalletConnect version 2 requires a projectId. Please visit https://cloud.walletconnect.com to get one."}),dappUrl:I.string().optional().custom((t,e)=>t||e.message({message:"It is strongly recommended to supply a dappUrl as it is required by some wallets (i.e. MetaMask) to allow connection.",type:"any.custom"}),"Custom dappUrl validation"),requiredChains:I.array().items(I.number()).optional(),optionalChains:I.array().items(I.number()).optional(),qrModalOptions:I.object().optional(),additionalRequiredMethods:I.array().items(I.string()).optional(),additionalOptionalMethods:I.array().items(I.string()).optional()}),hs=(t,e)=>{const r=t.validate(e);return r.error?r:null},fs=t=>hs(ds,t),At=["eth_sendTransaction","eth_signTransaction","personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v4","wallet_addEthereumChain","wallet_switchEthereumChain"];function ms(t){if(!t.projectId)throw new Error("WalletConnect requires a projectId. Please visit https://cloud.walletconnect.com to get one.");t.dappUrl||console.warn("It is strongly recommended to supply a dappUrl to the WalletConnect init object as it is required by some wallets (i.e. MetaMask) to allow connection.");const{projectId:e,handleUri:r,requiredChains:n,optionalChains:s,qrModalOptions:a,additionalRequiredMethods:o,additionalOptionalMethods:l,dappUrl:i}=t;let c;return()=>({label:"WalletConnect",getIcon:async()=>(await f(()=>import("./icon-e08798cb.js"),[])).default,getInterface:async({chains:p,EventEmitter:k,appMetadata:d})=>{const{ProviderRpcError:T,ProviderRpcErrorCode:P}=await f(()=>import("./react-ac02b43c.js").then(A=>A.cP),["assets/react-ac02b43c.js","assets/lodash-90a1c433.js"]),{default:S,REQUIRED_METHODS:H}=await f(()=>import("./index.es-2e278cd1.js"),["assets/index.es-2e278cd1.js","assets/react-ac02b43c.js","assets/lodash-90a1c433.js","assets/priceReference-015357d4.js","assets/index-6c9a656c.js","assets/style-053d0d8d.js","assets/index-779ddf66.js","assets/index-7cc8a1c8.css"]),{Subject:E,fromEvent:W}=await f(()=>import("./index-4c6a8dad.js"),["assets/index-4c6a8dad.js","assets/zipWith-734a2092.js","assets/react-ac02b43c.js","assets/lodash-90a1c433.js"]),{takeUntil:R,take:K}=await f(()=>import("./index-22f50bd4.js"),["assets/index-22f50bd4.js","assets/zipWith-734a2092.js","assets/react-ac02b43c.js","assets/lodash-90a1c433.js"]),j=()=>{if(!d)return;const A=i||d.explore||"";!A&&!A.length&&console.warn("It is strongly recommended to supply a dappUrl as it is required by some wallets (i.e. MetaMask) to allow connection.");const M={name:d.name,description:d.description||"",url:A,icons:[]};return d.icon!==void 0&&d.icon.length&&(M.icons=[d.icon]),d.logo!==void 0&&d.logo.length&&(M.icons=M.icons.length?[...M.icons,d.logo]:[d.logo]),M},ee=Array.isArray(n)&&n.length&&n.every(A=>!isNaN(A))?n.map(A=>parseInt(A)):[],F=Array.isArray(s)&&s.length&&s.every(A=>!isNaN(A))?s.map(A=>parseInt(A)):p.map(({id:A})=>parseInt(A,16)),ie=new Set(o&&Array.isArray(o)?[...o,...H]:H),Z=Array.from(ie),w=l&&Array.isArray(l)?[...l,...At]:At,m=await S.init({projectId:e,chains:ee,methods:Z,optionalChains:F,optionalMethods:w,showQrModal:!0,rpcMap:p.map(({id:A,rpcUrl:M})=>({id:A,rpcUrl:M})).reduce((A,{id:M,rpcUrl:he})=>(A[parseInt(M,16)]=he||"",A),{}),metadata:j(),qrModalOptions:a}),N=new k;class L{constructor({connector:M,chains:he}){this.emit=N.emit.bind(N),this.on=N.on.bind(N),this.removeListener=N.removeListener.bind(N),this.connector=M,this.chains=he,this.disconnected$=new E,W(this.connector,"accountsChanged",O=>O).pipe(R(this.disconnected$)).subscribe({next:O=>{const te=Array.isArray(O)?O:[O];this.emit("accountsChanged",te)},error:console.warn}),W(this.connector,"chainChanged",O=>O).pipe(R(this.disconnected$)).subscribe({next:O=>{const te=Ze(O)?O:`0x${O.toString(16)}`;this.emit("chainChanged",te)},error:console.warn}),W(this.connector,"session_delete",O=>O).pipe(R(this.disconnected$)).subscribe({next:()=>{this.emit("accountsChanged",[]),this.disconnected$.next(!0),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")},error:console.warn}),this.disconnect=()=>{this.connector.session&&(this.connector.disconnect(),c=null)},t&&r&&W(this.connector,"display_uri",O=>O).pipe(R(this.disconnected$)).subscribe(async O=>{try{r&&await r(O)}catch(te){throw`An error occurred when handling the URI. Error: ${te}`}}),(()=>{const O=this.connector.session;c=O,O&&(this.emit("accountsChanged",this.connector.accounts),this.emit("chainChanged",this.connector.chainId))})(),this.request=async({method:O,params:te})=>{if(O==="eth_chainId")return Ze(this.connector.chainId)?this.connector.chainId:`0x${this.connector.chainId.toString(16)}`;if(O==="eth_requestAccounts")return new Promise(async(C,z)=>{if(W(this.connector,"connect",Y=>Y).pipe(K(1)).subscribe({next:({chainId:Y})=>{this.emit("accountsChanged",this.connector.accounts);const G=Ze(Y)?Y:`0x${Y.toString(16)}`;this.emit("chainChanged",G),C(this.connector.accounts)},error:z}),!this.connector.session)await this.connector.connect().catch(Y=>{console.error("err creating new session: ",Y),z(new T({code:4001,message:"User rejected the request."}))});else{const Y=this.connector.accounts,G=this.connector.chainId;c=this.connector.session;const Kt=`0x${G.toString(16)}`;return this.emit("chainChanged",Kt),C(Y)}});if(O==="eth_selectAccounts")throw new T({code:P.UNSUPPORTED_METHOD,message:`The Provider does not support the requested method: ${O}`});if(O=="wallet_switchEthereumChain"){if(!te)throw new T({code:P.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});const C=te[0];if(!C.hasOwnProperty("chainId")||typeof C.chainId>"u")throw new T({code:P.INVALID_PARAMS,message:"The Provider requires a chainId to be passed in as an argument"});return this.connector.request({method:"wallet_switchEthereumChain",params:[{chainId:C.chainId}]})}return this.connector.request({method:O,params:te})}}}return{provider:new L({chains:p,connector:m}),instance:c}}})}const Ze=t=>!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/));function ps(t){if(!t)throw new Error("WalletConnect requires an initialization object to be passed - see the official docs for an example: https://onboard.blocknative.com/docs/wallets/walletconnect");if(t){const e=fs(t);if(e)throw e}return ms(t)}const xt="/assets/logo_gradient-acf9c12b.svg";var Be,Rt;typeof window<"u"&&((Rt=(Be=window==null?void 0:window.indexedDB)==null?void 0:Be.deleteDatabase)==null||Rt.call(Be,"WALLET_CONNECT_V2_INDEXED_DB"));const gs=!1,ws=["MetaMask","Rabby Wallet","Trust Wallet","Coinbase Wallet","Exodus","OKX Wallet","Bitget Wallet","Phantom","XDEFI Wallet","Frame","BlockWallet","SafePal"].filter(t=>t),bs=Vt({displayUnavailable:!0,sort:t=>ws.map(e=>t.find(({label:r})=>r===e)).filter(e=>e),walletUnavailableMessage:t=>`${t.label} is unavailable!`}),ys=Vt({displayUnavailable:!1,walletUnavailableMessage:t=>`${t.label} is unavailable!`}),_s=ps({projectId:"26c912aadd2132cd869a5edc00aeea0f",dappUrl:Me==="merkl"?"https://merkl.xyz":"https://angle.money"}),ks=Kr(),Es=gs,vs=[Es,_s,bs,ys,ks].filter(t=>t),Is=[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://rpc.ankr.com/eth"},{id:"0xa",token:"ETH",label:"Optimism",rpcUrl:"https://rpc.ankr.com/optimism"},{id:"0x2105",token:"ETH",label:"Base",rpcUrl:"https://mainnet.base.org"},{id:"0xa4b1",token:"ETH",label:"Arbitrum One",rpcUrl:"https://arb1.arbitrum.io/rpc"},{id:"0xfa",token:"FTM",label:"Fantom",rpcUrl:"https://rpc.fantom.network"},{id:"0x38",token:"BNB",label:"Binance Smart Chain",rpcUrl:"https://bsc-dataseed.binance.org"},{id:"0x89",token:"MATIC",label:"Matic Mainnet",rpcUrl:"https://matic-mainnet.chainstacklabs.com"},{id:"0xa86a",token:"AVAX",label:"Avalanche Mainnet",rpcUrl:"https://api.avax.network/ext/bc/C/rpc"},{id:"0xa4ec",token:"CELO",label:"Celo Mainnet",rpcUrl:"https://rpc.ankr.com/celo"},{id:"0x64",token:"XDAI",label:"Gnosis Chain",rpcUrl:"https://rpc.gnosischain.com/"},{id:"0x44d",token:"ETH",label:"Polygon zkEVM",rpcUrl:"https://zkevm-rpc.com"},{id:"0xe708",token:"ETH",label:"Linea",rpcUrl:"https://linea.drpc.org"},{id:"0x1388",token:"MNT",label:"Mantle",rpcUrl:"https://rpc.mantle.xyz"},{id:"0x343B",token:"IMX",label:"Immutable zkevm",rpcUrl:"https://immutable-zkevm.drpc.org"},{id:"0x6c",token:"TT",label:"ThunderCore",rpcUrl:"https://mainnet-rpc.thundercore.com"},{id:"0x45c",token:"CORE",label:"Core Blockchain",rpcUrl:"https://rpc.coredao.org/"},{id:"0x13e31",token:"ETH",label:"Blast",rpcUrl:"https://rpc.blast.io"},{id:"0xa9",token:"ETH",label:"Manta",rpcUrl:"https://1rpc.io/manta"},{id:"0x868b",token:"ETH",label:"Mode",rpcUrl:"https://mainnet.mode.network/"},{id:"0x82750",token:"ETH",label:"Scroll",rpcUrl:"https://rpc.scroll.io"},{id:"0x250",token:"ASTR",label:"Astar",rpcUrl:"https://astar-rpc.dwellir.com"},{id:"0xec0",token:"ETH",label:"Astar zkevm",rpcUrl:"https://rpc.startale.com/astar-zkevm"},{id:"0x144",token:"ETH",label:"ZKSync era",rpcUrl:"https://mainnet.era.zksync.io"},{id:"0x7A",token:"FUSE",label:"Fuse",rpcUrl:"https://rpc.fuse.io"},{id:"0xC4",token:"OKB",label:"X Layer",rpcUrl:"https://xlayerrpc.okx.com"},{id:"0x1e",token:"RBTC",label:"Rootstock",rpcUrl:"https://rpc.rootstock.io/"},{id:"0x28c58",token:"TAIKO",label:"Taiko",rpcUrl:"https://rpc.mainnet.taiko.xyz"},{id:"0x531",token:"SEI",label:"Sei",rpcUrl:"https://evm-rpc.sei-apis.com/"},{id:"0x504",token:"GLMR",label:"Moonbeam",rpcUrl:"https://moonbeam-rpc.publicnode.com"},{id:"0x79f99296",token:"sFUEL",label:"Skale",rpcUrl:"https://mainnet.skalenodes.com/v1/elated-tan-skat"},{id:"0xfc",token:"frxETH",label:"Fraxtal",rpcUrl:"https://rpc.frax.com"},{id:"0xed88",token:"ETH",label:"Bob",rpcUrl:"https://rpc.gobob.xyz"},{id:"0x1e0",token:"ETH",label:"World Chain",rpcUrl:"https://worldchain-mainnet.g.alchemy.com/public"}],Ts={wallets:vs,chains:Is,accountCenter:{desktop:{enabled:!1},mobile:{enabled:!1}},appMetadata:{name:"Angle Dapp",icon:Me==="merkl"?ut:xt,logo:Me==="merkl"?ut:xt,description:"Angle Protocol Dapp",explore:"https://angle.money",recommendedInjectedWallets:[{name:"MetaMask",url:"https://metamask.io"}]},connect:{showSidebar:!1},theme:"dark"},Ns=(t,e)=>{var r,n,s,a,o,l,i,c,p,k,d,T,P,S,H,E,W,R,K,j,ee,F,ie,Z;switch(e.type){case"allowances":{const w=t!=null&&t.allowances?{...t==null?void 0:t.allowances}:{};if(e.callData)for(const m of Object.keys(e.callData)){const N={},L=(r=e.callData[m])==null?void 0:r.decimals;for(const A of Object.keys(e.callData[m])){const M=e.callData[m][A];A!=="decimals"&&(N[A]={...M,allowance:U.from(M==null?void 0:M.allowance,L)}),w[m]=N}}return{...t,allowances:w}}case"balances":{const w=t!=null&&t.balances?{...t==null?void 0:t.balances}:{};if(e.callData)for(const m of Object.keys(e.callData)){const N=e.callData[m];w[m]={...N,symbol:N.symbol,balance:U.from(N.balance,N.decimals)}}return{...t,balances:w}}case"dao":{const w=(n=t==null?void 0:t.gauges)!=null&&n.list?{...t,ANGLE:e.callData.ANGLE,veANGLE:e.callData.veANGLE,rewardsData:e.callData.rewardsData,gauges:{...e.callData.gauges,list:t.gauges.list}}:{...t,ANGLE:e.callData.ANGLE,veANGLE:e.callData.veANGLE,rewardsData:e.callData.rewardsData,gauges:{...e.callData.gauges,list:{}}};if((a=(s=e.callData)==null?void 0:s.gauges)!=null&&a.list)for(const m of Object.keys(e.callData.gauges.list))w.gauges.list[m]={...w.gauges.list[m],...e.callData.gauges.list[m]};return w}case"incentives":{const w=t!=null&&t.incentives?{...t}:{...t,incentives:{}};if(e.callData)for(const m of Object.keys(e.callData)){const N=(l=(o=e.callData[m])==null?void 0:o.underlyingToken)==null?void 0:l.base;w.incentives[m]={...w.incentives[m],...e.callData[m],underlyingToken:{...(i=e.callData[m])==null?void 0:i.underlyingToken,balance:U.from((p=(c=e.callData[m])==null?void 0:c.underlyingToken)==null?void 0:p.balance,N),allowance:U.from((d=(k=e.callData[m])==null?void 0:k.underlyingToken)==null?void 0:d.allowance,N)},deposit:{...(T=e.callData[m])==null?void 0:T.deposit,amount:U.from((S=(P=e.callData[m])==null?void 0:P.deposit)==null?void 0:S.amount,N)}}}return w}case"merkl":{const w=e.callData,m=t.merkl;if(m)if(w){if(Object.keys(w).length>1)He(m,w);else for(const N of Object.keys(w))w[N]&&(m[N]=w[N]);return{...t,merkl:m}}else return t;else return{...t,merkl:e.callData}}case"campaigns":{const w=e.callData,m=t.campaigns;if(m)if(w){if(Object.keys(w).length>1)He(m,w);else for(const N of Object.keys(w))w[N]&&(m[N]=w[N]);return{...t,campaigns:m}}else return t;else return{...t,campaigns:e.callData}}case"rewards":return e.callData?{...t,rewards:e.callData}:t;case"updates":return e.callData?{...t,updates:e.callData}:t;case"overview":return e.callData?{...t,overview:e.callData}:t;case"merkl-bg":{const w=e.callData,m=t.merkl;if(m)if(w){if(Object.keys(w).length>1)He(m,w);else for(const N of Object.keys(w))w[N]&&(m[N]=w[N]);return{...t,merkl:m}}else return t;else return{...t,merkl:e.callData}}case"vaultManagers":{const w=t!=null&&t.vaultManagers?{...t}:{...t,vaultManagers:{}};if(e.callData)for(const m of Object.keys(e.callData))w.vaultManagers[m]={...w.vaultManagers[m],...e.callData[m],collateralAllowance:U.from((H=e.callData[m])==null?void 0:H.collateralAllowance,(E=e.callData[m])==null?void 0:E.decimals),debtCeiling:U.from((W=e.callData[m])==null?void 0:W.debtCeiling)};return w}case"vaults":{const w=t!=null&&t.vaults?{...t}:{...t,vaults:{}};if(e.callData){for(const m of Object.keys(w.vaults))(R=Object.keys(e.callData))!=null&&R.includes(m)||delete w.vaults[m];for(const m of Object.keys(e.callData))w.vaults[m]={...w.vaults[m],...e.callData[m],collateralAmount:U.from((K=e.callData[m])==null?void 0:K.collateralAmount,(j=e.callData[m])==null?void 0:j.collatBase)}}return w}case"layerZero":{const w=t!=null&&t.bridges?t==null?void 0:t.bridges:{layerZero:{}};if(e.callData)for(const m of Object.keys(e.callData))for(const N of Object.keys(e.callData[m])){const L=(ee=e.callData[m])==null?void 0:ee[N];w.layerZero[Number.parseInt(m)]||(w.layerZero[Number.parseInt(m)]={}),w.layerZero[Number.parseInt(m)][N]={...L,limit:U.from(L.limit),hourlyLimit:U.from(L.hourlyLimit),usage:U.from(L.usage),totalHourlyLimit:U.from(L.totalHourlyLimit),totalUsage:U.from(L.totalUsage),fromLimit:U.from(L.fromLimit),toLimit:U.from(L.toLimit),credit:U.from(L.credit),balance:U.from(L.balance),allowance:U.from(L.allowance)}}return{...t,bridges:w}}case"savings":{if(t.savings||(t.savings={}),e.callData){const w=e.callData,m=Object.keys(w),N=Object.assign({},t.savings);m.forEach(L=>{const A=w[L];N[A.chainId]||(N[A.chainId]={}),N[A.chainId][L]={totalAssets:U.from(A.totalAssets),totalSupply:U.from(A.totalSupply),paused:A.paused,lastUpdate:A.lastUpdate,apy:A.apy}}),t.savings=N}return{...t}}case"governance":return e.callData&&(t.governance={user:(F=e.callData)==null?void 0:F.user,proposals:(ie=e.callData)==null?void 0:ie.proposalsInfo,parameters:(Z=e.callData)==null?void 0:Z.parameters}),{...t};case"switchAddress":return{...t,balances:{},allowances:{},vaults:{},vaultManagers:{},gauges:{...t==null?void 0:t.gauges,list:{}}};case"switchChain":return{...t,balances:{},allowances:{},vaults:{},vaultManagers:{},gauges:{...t==null?void 0:t.gauges,list:{}}}}};function J(t,e,r,n,s=!0){const a=ur(),{address:o,chainId:l}=it(),[i,c]=y.useState(()=>tt.debounce(()=>{},50)),[p,k]=y.useState(""),[d,T]=y.useState(null),[P,S]=y.useState(null),H=d&&P===o,[E,W]=y.useState(null),[R,K]=y.useState(!1),[j,ee]=y.useState(null);dr();const[F,ie]=y.useState();return y.useEffect(()=>{ie(document)},[F]),y.useEffect(()=>{if(!F)return;const Z=F.hidden;j&&clearTimeout(j),Z!==R&&(Z?ee(setTimeout(()=>{K(Z)},20*1e3)):K(Z))},[F==null?void 0:F.hidden]),y.useEffect(()=>{i==null||i.cancel(),T(null),k(""),c(()=>tt.debounce(()=>{if(r!=null&&r.includes(e)&&!R){if(p===o)return;dt(`👀 Fetching ${e} on ${Ye[l]} for ${o}`),k(o),t().then(Z=>{a.setDataContext({type:e,callData:Z}),T(!0),S(o),k(""),dt(`✅ Fetched ${e} on ${Ye[l]} for ${o}`)})}},50))},[r,t,e,R,o,s&&l]),y.useEffect(()=>(E&&clearInterval(E),i(),W(setInterval(()=>{i()},n)),()=>clearInterval(E)),[i]),H}const qt=y.createContext(null),As=({children:t})=>{const{address:e,chainId:r,userTokens:n}=it(),[s,a]=y.useState([]),[o,l]=y.useState(null),i=y.useCallback(async()=>{if(e)return await(await fetch(`${de}/allowances?${re.stringify({chainId:r,spenders:Jt(r),user:e,additionalTokenAddresses:n!=null&&n[r]?Object.keys(n==null?void 0:n[r]).filter(G=>Qe(G)):[]})}`)).json()},[r,e,n]),c=J(i,"allowances",s,4*1e3),p=y.useCallback(async()=>{if(e)return await(await fetch(`${de}/balances?${re.stringify({chainId:r,user:e,additionalTokenAddresses:n!=null&&n[r]?Object.keys(n==null?void 0:n[r]).filter(G=>Qe(G)):[]})}`)).json()},[r,e,n]),k=J(p,"balances",s,12*1e3),d=y.useCallback(async()=>{if(!(!r||!e))return await(await fetch(`${de}/dao?${re.stringify({user:e})}`)).json()},[r,e]),T=J(d,"dao",s,12*1e3),P=y.useCallback(async()=>{if(!r||!e)return;const G=await(await fetch(`${de}/vaults?${re.stringify({chainId:r,user:e})}`)).json();if((G==null?void 0:G[0])!=="error")return G},[r,e]),S=J(P,"vaults",s,12*1e3),H=y.useCallback(async()=>!r||!e?void 0:await(await fetch(`${de}/vaultManagers?${re.stringify({chainId:r,user:e})}`)).json(),[r,e]),E=J(H,"vaultManagers",s,12*1e3),W=y.useCallback(async()=>{if(!(!r||!e))return await(await fetch(`${de}/incentives?${re.stringify({user:e})}`)).json()},[r,e]),R=J(W,"incentives",s,12*1e3),K=y.useCallback(async()=>await(await fetch(`${de}/layerZero?${re.stringify({user:e,chainId:r,toChainId:o??void 0})}`)).json(),[e,r,o]),j=J(K,"layerZero",s,12*1e3,!1),ee=y.useCallback(async()=>await(await fetch(`${et}/merkl`)).json(),[]),F=J(ee,"merkl-bg",s,600*1e3,!1),ie=y.useCallback(async()=>{const G=r??0;if(e!==Te&&G)return await(await fetch(`${et}/merkl?${re.stringify({user:e,chainIds:G})}`)).json()},[e,r]),Z=J(ie,"merkl",s,20*1e3),w=F||Z,m=y.useCallback(async()=>await(await fetch(`${Ce}/campaigns?${re.stringify({types:[pe.ERC20,pe.ERC20_SNAPSHOT,pe.JSON_AIRDROP,pe.SILO,pe.RADIANT,pe.DOLOMITE]})}`)).json(),[]),N=J(m,"campaigns",s,600*1e3,!1),L=y.useCallback(async()=>await(await fetch(`${Ce}/overview`)).json(),[]),A=J(L,"overview",s,120*1e3,!1),M=y.useCallback(async()=>await(await fetch(`${Ce}/updates`)).json(),[]),he=J(M,"updates",s,600*1e3,!1),Pe=y.useCallback(async()=>await(await fetch(`${Ce}/rewards?${re.stringify({user:e})}`)).json(),[e]),O=J(Pe,"rewards",s,3*1e3,!0),te=y.useCallback(async()=>await(await fetch(`${hr}/savings?${re.stringify({chainId:r})}`)).json(),[r]),C=J(te,"savings",s,20*1e3,!1),z=y.useCallback(async()=>await(await fetch(`${de}/governance?${re.stringify({chainId:r,user:e})}`)).json(),[r,e]),Y=J(z,"governance",s,20*1e3,!1);return oe.jsx(qt.Provider,{value:{allowancesLoaded:c,balancesLoaded:k,daoLoaded:T,incentivesLoaded:R,layerZeroLoaded:j,merklLoaded:w,merklBackgroundLoaded:F,rewardsLoaded:O,campaignsLoaded:N,overviewLoaded:A,updatesLoaded:he,vaultManagersLoaded:E,vaultsLoaded:S,savingsLoaded:C,governanceLoaded:Y,fetch:G=>a(G),toChainId:o,setToChain:l},children:t})},Hs=()=>y.useContext(qt),xs=async t=>{const e={tokens:[]},r={};for(const n of Object.values(e.tokens))n.address&&Qe(n.address)&&(r[Le(n.address)]={...n,address:Le(n.address)});return r},Ps=async t=>{var s;const e=xs(),r=await(await fetch(`${et}/app`)).json(),n={prices:{},tokens:r==null?void 0:r.tokens};return(s=r==null?void 0:r.prices)==null||s.forEach(a=>n.prices[a.token]=a.rate),n.userTokens=!!localStorage.getItem("MY_TOKENS")&&JSON.parse(localStorage.getItem("MY_TOKENS")),n.oneInchTokens=await e,n},Ks=async(t,e,r)=>{const n={...r};n[e]||(n[e]={}),n[e][t.address]=t,localStorage.setItem("MY_TOKENS",JSON.stringify(n))},Gs=(t,e,r)=>{const n={...r};n[e][t]&&(delete n[e][t],localStorage.setItem("MY_TOKENS",JSON.stringify(n)))};y.createContext(null);const Ht="connectedWallets",Rs=t=>window.localStorage.setItem(Ht,JSON.stringify(t.map(({label:e})=>e))),Cs=()=>{const t=JSON.parse(window.localStorage.getItem(Ht)??"[]");return t!=null&&t.length?t:[]},Os=Me==="merkl";function Ds(t=!0){const e=Gt(),[{wallet:r},n,s,,,a]=Ft(),[{connectedChain:o},l]=Xt(),[i,c]=y.useState(Te),[p,k]=y.useState(!1),[d,T]=y.useState(null),[P]=y.useState(null),[S,H]=y.useState(!1),[E,W]=y.useState(null),[R,K]=y.useState(fr.MAINNET),[j,ee]=y.useState(null),[F,ie]=y.useState(null),[Z,w]=y.useState(null),[m,N]=y.useState(null),L=y.useCallback(async()=>i&&(E==null?void 0:E.getBalance(i).then(ie)),[i,E]),A=y.useCallback(async()=>{const C=await(E==null?void 0:E.getGasPrice());C&&N(C.toNumber())},[E]);y.useEffect(()=>{async function C(){const z=Cs();window.self!==window.top?await n({autoSelect:{label:"Safe",disableModals:!0}}):z.length>0&&await n({autoSelect:{label:z[0],disableModals:!0}}),p||Re.Wallet.initialized(),k(!0)}t&&C()},[t]),y.useEffect(()=>{r!=null&&r.provider&&W(new Hr(r==null?void 0:r.provider,"any"))},[r==null?void 0:r.provider]),y.useEffect(()=>{e.length>0&&Rs(e)},[e]),y.useEffect(()=>{var C,z;d?c(d):(C=r==null?void 0:r.accounts)!=null&&C.length&&((z=r==null?void 0:r.accounts[0])!=null&&z.address)&&c(r==null?void 0:r.accounts[0].address)},[r==null?void 0:r.accounts,d]),y.useEffect(()=>{!i||!E||(L(),(async()=>H(await E.getCode(i)!=="0x"))())},[i,E]),y.useEffect(()=>{var C;(C=r==null?void 0:r.chains)!=null&&C.length&&K(Number.parseInt(r==null?void 0:r.chains[0].id))},[r==null?void 0:r.chains]),y.useEffect(()=>{if(!E)return;(async()=>{L(),await A()})()},[E,Z,i,R]),y.useEffect(()=>{const C=()=>E==null?void 0:E.removeAllListeners();if(E)C();else return;return E==null||E.on("block",z=>w(z)),C},[i,E]);const M=y.useCallback(tt.debounce(async C=>{ee(await Ps())},100),[]);y.useEffect(()=>{M(R)},[M,i,R,E]),y.useEffect(()=>{i===Te?Re.Wallet.disconnect():i&&Re.Wallet.connect(`${i}`)},[i]);function he(){n()}async function Pe(C){if(Os&&d)return K(Number.parseInt(C.toString()));await l({chainId:`0x${C.toString(16)}`})&&Re.Wallet.chain(`${Ye[C]} (${C})`)}function O(C){var z;(z=r==null?void 0:r.accounts)!=null&&z.length||r!=null&&r.accounts.find(({address:Y})=>Y===C)&&a(r,C)}function te(){s({label:(r==null?void 0:r.label)??""}),c(Te),T(null)}return{address:i,accounts:r==null?void 0:r.accounts,spy:d,setSpy:T,ens:P,chainId:R,provider:E,ethBalance:F,blockNumber:Z,wallet:r,gasPrice:m,setGasPrice:N,initialized:p,isContract:S,refreshUserToken:()=>{ee({...j,userTokens:!!localStorage.getItem("MY_TOKENS")&&JSON.parse(localStorage.getItem("MY_TOKENS"))})},connect:he,connectAddress:O,disconnect:te,switchChain:Pe,...j}}function Pt({children:t,ready:e}={ready:!0}){const r=Ds(e??!0);return oe.jsx(mr.Provider,{value:r,children:t})}const Bs="onboard";function Ss(t){switch(Bs){case"onboard":return oe.jsx(Pt,{...t});default:return oe.jsx(Pt,{...t})}}const Ws=Zt(Ts);function Ls({children:t}){const{address:e,chainId:r}=it(),n={ANGLE:null,balances:null,gauges:null,incentives:null,pool:null,rewardsData:null,tokens:null,veANGLE:null,vaultManagers:null,vaults:null,governance:void 0,merkl:void 0},[s,a]=y.useReducer(Ns,n);return y.useEffect(()=>{e!==Te&&a({type:"switchAddress",callData:null})},[e]),y.useEffect(()=>{a({type:"switchChain",callData:null})},[r]),y.useEffect(()=>{(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")}),oe.jsx(pr.Provider,{value:{...s,setDataContext:a},children:oe.jsx(As,{children:t})})}function Fs({children:t,ready:e=!0}){return oe.jsx(zt,{web3Onboard:Ws,children:oe.jsx(Ss,{ready:e,children:oe.jsxs(Yt,{children:[oe.jsx(Qt,{}),oe.jsx(Ls,{children:t})]})})})}export{Fs as D,xt as L,Ks as a,Gs as r,Hs as u};
