import{ac as v,ad as O,B as b,I as h,u as P,f as L,T as C}from"./index-6c9a656c.js";import{I as a,f as l,S as B,R as K}from"./react-ac02b43c.js";import{J as q,D as F}from"./priceReference-015357d4.js";import{D as z}from"./PageHeader-912a2f98.js";import{u as E,D as R}from"./Styles-0fb7b513.js";import{m as D,a as I}from"./style-053d0d8d.js";var y={},H=O;Object.defineProperty(y,"__esModule",{value:!0});var V=y.default=void 0,J=H(v()),W=a;V=y.default=(0,J.default)((0,W.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMadeOutlined");const Y=(e,t)=>{l.useEffect(()=>{const o=s=>{e.current&&s.target instanceof Node&&!e.current.contains(s.target)&&t(s)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e,t])},se=({priceReference:e,setPriceReference:t,className:o})=>{const[s,n]=l.useState(!1),m=l.useRef(null);return Y(m,()=>{n(!1)}),a.jsx(z,{look:"text",trigger:["hover","click"],placement:"bottomRight",size:"s",parentClassName:"text-sm",childClassName:()=>"justify-center",override:a.jsx(b,{look:"text",className:`text-sm !justify-start !w-fit ${o}`,leftIcon:a.jsx(h,{mui:"TollSharp",className:"mr-1 dark:!text-blue-500"}),rightIcon:a.jsx(h,{mui:"KeyboardArrowDownOutlined",className:"rotate dark:!text-blue-500"}),children:e}),content:q.filter(r=>r!==e).map(r=>a.jsx("div",{onClick:()=>{localStorage.setItem("PRICE_REF",r),t(r),n(!s),window.location.reload()},children:r},r))})};function G(e,t){const[o,s]=l.useState(1),n=l.useMemo(()=>(e==null?void 0:e.length)<=0?1:Math.ceil((e==null?void 0:e.length)/t),[e==null?void 0:e.length,t]),m=l.useMemo(()=>{const i=(o-1)*t;return e==null?void 0:e.slice(i,i+t)},[n,o,e,t]),[r,d]=l.useState("forward");l.useEffect(()=>{o>n&&f(1)},[n]);function c(){s(i=>i>=n?n:i+1),d("forward")}function u(){s(i=>i<=1?1:i-1),d("backward")}function f(i){s(Math.min(1,Math.max(i,o)))}return{page:o,pages:n,sample:m,setPage:f,onPageIncrement:c,direction:r,onPageDecrement:u}}function re(e,t,o,s,n,m){const r=l.useMemo(()=>e==null?void 0:e.filter(t),[e,...o]),[d,c]=l.useState(s),u=l.useMemo(()=>[...r.sort((i,k)=>n(d[0],d[1],i,k))],[n,d]),f=G(u,m??(u==null?void 0:u.length));return{setSorting:c,...f}}const ne=({onClick:e,children:t,small:o=!1,usePermit:s=!1,isApproveBtn:n=!1,stopPropagation:m=!1,disabled:r,look:d="primary",type:c,...u})=>{const{t:f}=B(),{chainId:i,address:k,connect:M,provider:T}=P(),[p,S]=l.useState(!1),[x,N]=l.useState(null),{refresh:_}=E("balances",{}),{refresh:A}=E("allowances",{}),$=l.useCallback(async j=>{if(m&&j.stopPropagation(),p||r)x&&window.open(L(i,x,"transaction"),"_blank");else{S(!0);try{await e(w=>{N(w)})}catch{}S(!1),N(null)}},[p,i,r,e,m,x]);l.useEffect(()=>{async function j(w){await T.getTransactionReceipt(w)&&_()&&A()}x&&j(x)},[x]);const g={...u,look:d,disabled:r};return k===F?a.jsx(b,{...g,disabled:!1,type:"button",onClick:M,children:"Connect wallet"}):(s||n)&&!r&&!p?a.jsx(C,{placement:"left",title:a.jsx("div",{className:"flex flex-wrap items-center justify-around",children:f(s?"A permit needs to be signed for this transaction. Permits are off-chain signatures that remove the need for approval transactions when using tokens to interact with smart contracts.":"You must give the Angle Protocol smart contracts permission to use your token.")}),icon:!1,children:a.jsx(b,{...g,disabled:!1,onClick:$,rightIcon:p&&!!x&&a.jsx(h,{mui:"CallMadeOutlined"}),children:p?a.jsx(R,{children:"Sending"}):t})}):a.jsx(b,{...g,disabled:!x&&(p||r),onClick:$,rightIcon:p&&!!x&&a.jsx(h,{mui:"CallMadeOutlined"}),children:p?a.jsx(R,{children:"Sending"}):t})},oe=({figureChart:e,title:t,data:o,tooltip:s,tooltipUnpad:n,setFigureChart:m,clickable:r=!0,delay:d=0,gradient:c=!1,className:u,selected:f=!1,size:i="m"})=>i==="s"?a.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:d,duration:.5},className:`${u} min-w-[170px] p-3 md:min-w-min md:p-4 lg:min-w-[200px] ${c?"dark:gradient-blue300-blue500":""} ${r?"hover:border-gradient-multiple cursor-pointer dark:bg-black-500":"dark:bg-black-700"} flex justify-between items-center gap-2 chart-key-number rounded-lg ${f?"border-gradient-multiple":""} ${e===t?"border-gradient-multiple dark:bg-black-500":""}`,onClick:()=>{r&&m(t)},children:[s?a.jsx(C,{overlayClassName:`!p-sm ${n&&"tooltip-apr-breakdown"}`,className:"flex cursor-pointer items-center p-sm",title:s,dark:c,children:a.jsx("p",{className:`font-bold md:text-lg ${c?"dark:text-black-500":"dark:text-black-200"}`,children:t})}):a.jsx("p",{className:`font-bold md:text-lg ${c?"dark:text-black-500":"dark:text-black-200"}`,children:t}),a.jsx("p",{className:`text-xl font-bold md:text-xl whitespace-nowrap ${c?"dark:text-black-500":"dark:text-sand-500"}`,children:o})]}):a.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:d,duration:.5},className:`${u} min-w-[170px] p-3 md:min-w-min md:p-4 lg:min-w-[200px] ${c?"dark:gradient-blue300-blue500":""} ${r?"hover:border-gradient-multiple cursor-pointer dark:bg-black-500":"dark:bg-black-700"} chart-key-number rounded-lg ${f?"border-gradient-multiple":""} ${e===t?"border-gradient-multiple dark:bg-black-500":""}`,onClick:()=>{r&&m(t)},children:[s?a.jsx(C,{overlayClassName:`!p-sm ${n&&"tooltip-apr-breakdown"}`,className:"mb-0.5 flex cursor-pointer items-center p-sm",title:s,dark:c,children:a.jsx("p",{className:`font-bold md:text-lg ${c?"dark:text-black-500":"dark:text-black-200"}`,children:t})}):a.jsx("p",{className:`mb-0.5 font-bold md:text-lg ${c?"dark:text-black-500":"dark:text-black-200"}`,children:t}),a.jsx("p",{className:`text-xl font-bold md:text-2xl ${c?"dark:text-black-500":"dark:text-sand-500"}`,children:o})]});function ce({header:e,children:t,preventOpen:o,onChange:s,open:n,...m}){const[r,d]=l.useState();return l.useEffect(()=>{n!==void 0&&d(n?"1":void 0)},[n]),a.jsx(I,{activeKey:r,ghost:!0,className:K.Children.toArray(t).length===0&&"no-collapsible-children",...m,onChange:c=>{!o&&d(c),!o&&(s==null||s(c.includes("1")))},children:a.jsx(I.Panel,{showArrow:!1,header:e,children:t},"1")})}export{oe as C,se as P,ne as T,G as a,re as b,ce as c,V as d,Y as u};
